"use strict";function isAlias(e){return _.has(mapping.aliasToReal,e)}function isCategory(e){return _.includes(categories,e)}function isThru(e){return!_.includes(aryMethods,e)}function getTemplate(e){var t={name:_.result(mapping.aliasToReal,e,e),mapping:mapping};return isAlias(e)?template.alias(t):isCategory(e)?template.category(t):isThru(e)?template.thru(t):template.module(t)}function onComplete(e){if(e)throw e}function build(e){e=path.resolve(e);var t=path.join(e,"fp"),a=glob.sync(path.join(e,"*.js"),{nodir:!0,ignore:ignored.map(function(t){return path.join(e,t)})});_.each([mapping.aliasToReal,mapping.remap],function(t){_.forOwn(t,function(t,i){var n=path.join(e,i+".js");_.includes(a,n)||a.push(n)})});var i=a.map(function(e){var a=path.basename(e,".js");return file.write(path.join(t,a+".js"),getTemplate(a))});i.unshift(file.copy(path.join(__dirname,"../../fp"),t)),i.push(file.write(path.join(t,"_falseOptions.js"),template._falseOptions())),i.push(file.write(path.join(t,"_util.js"),template._util())),i.push(file.write(path.join(e,"fp.js"),template.fp())),i.push(file.write(path.join(t,"convert.js"),template.convert())),async.series(i,onComplete)}var _=require("lodash"),async=require("async"),glob=require("glob"),path=require("path"),file=require("../common/file"),mapping=require("../common/mapping"),templatePath=path.join(__dirname,"template/modules"),template=file.globTemplate(path.join(templatePath,"*.jst")),aryMethods=_.union(mapping.aryMethod[1],mapping.aryMethod[2],mapping.aryMethod[3],mapping.aryMethod[4]),categories=["array","collection","date","function","lang","math","number","object","seq","string","util"],ignored=["_*.js","core.js","core.min.js","fp.js","index.js","lodash.js","lodash.min.js"];build(_.last(process.argv));
//# sourceMappingURL=build-modules.js.map
