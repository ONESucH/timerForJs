{"version":3,"sources":["scripts/additionalFilesSites/portfolio/vendor/lodash/test/saucelabs.js"],"names":["browserName","t","browserNameMap","_","startCase","getOption","e","i","isArray","reduce","process","argv","s","optionToArray","isEmpty","optionToValue","isJobId","reJobId","test","logInline","repeat","size","prevLine","truncate","length","stdout","write","slice","logThrobber","waitCount","compact","invokeMap","split","match","RegExp","result","trim","onGenericRestart","this","restarting","emit","start","onGenericStop","running","stopping","onJobRemove","id","taskId","url","removing","onJobReset","attempts","failed","resetting","_pollerId","onJobStart","starting","r","first","retries","restart","n","o","isObject","JSON","stringify","a","isFinite","console","error","timestamp","now","status","onJobStatus","checking","u","l","h","queueTimeout","includes","p","options","c","platforms","d","delay","bind","statusInterval","m","g","passed","reError","f","v","name","b","tunnel","I","chalk","red","log","green","onTunnelStart","_timeoutId","clearTimeout","exit","jobs","push","apply","queue","all","dequeue","Job","EventEmitter","call","merge","defaults","cloneDeep","jobOptions","Tunnel","map","user","pass","job","pull","stop","partial","Math","min","throttled","difference","on","active","connection","SauceTunnel","tunneled","env","TRAVIS_SECURE_ENV_VARS","require","http","path","util","ecstatic","request","accessKey","SAUCE_ACCESS_KEY","username","SAUCE_USERNAME","maxJobRetries","maxTunnelRetries","mount","cache","root","cwd","ports","Array","prototype","throbberDelay","advisor","build","TRAVIS_COMMIT","commandTimeout","compatMode","customData","Function","replace","deviceOrientation","framework","idleTimeout","jobName","maxDuration","port","sortedIndex","publicAccess","recordVideo","recordScreenshots","runner","runnerUrl","tags","tunnelId","TRAVIS_JOB_ID","tunnelTimeout","videoUploadOnPass","googlechrome","iehta","ipad","iphone","microsoftedge","isAMD","isBackbone","isModern","filter","command-timeout","custom-data","device-orientation","idle-timeout","max-duration","public","record-screenshots","record-video","sauce-advisor","video-upload-on-pass","inherits","remove","once","iteratee","del","template","auth","defer","reset","post","json","js tests","put","after","timeout","shift","createServer","extname","parse","pathname","setHeader","listen","setInterval"],"mappings":"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","file":"saucelabs.js","sourcesContent":["#!/usr/bin/env node\n\"use strict\";function browserName(t){return browserNameMap[t]||_.startCase(t)}function getOption(t,e){var i=_.isArray(e);return _.reduce(process.argv,function(e,s){return i?(s=optionToArray(t,s),_.isEmpty(s)?e:s):(s=optionToValue(t,s),null==s?e:s)},e)}function isJobId(t){return reJobId.test(t)}function logInline(t){var e=_.repeat(\" \",_.size(prevLine));prevLine=t=_.truncate(t,{length:40}),process.stdout.write(t+e.slice(t.length)+\"\\r\")}function logThrobber(){logInline(\"Please wait\"+_.repeat(\".\",++waitCount%3+1))}function optionToArray(t,e){return _.compact(_.invokeMap((optionToValue(t,e)||\"\").split(/, */),\"trim\"))}function optionToValue(t,e){var i=e.match(RegExp(\"^\"+t+\"(?:=([\\\\s\\\\S]+))?$\"));return i&&(i=_.result(i,1),i=!i||_.trim(i)),\"false\"!==i&&(i||void 0)}function onGenericRestart(){this.restarting=!1,this.emit(\"restart\"),this.start()}function onGenericStop(t){this.running=this.stopping=!1,this.emit(\"stop\",t)}function onJobRemove(t,e,i){this.id=this.taskId=this.url=null,this.removing=!1,this.emit(\"remove\")}function onJobReset(){this.attempts=0,this.failed=this.resetting=!1,this._pollerId=this.id=this.result=this.taskId=this.url=null,this.emit(\"reset\")}function onJobStart(t,e,i){if(this.starting=!1,!this.stopping){var s=_.result(e,\"statusCode\"),r=_.first(_.result(i,\"js tests\"));if(t||!r||200!=s){if(this.attempts<this.retries)return void this.restart();var n=\"unavailable\",o=_.isObject(i)?\"\\n\"+JSON.stringify(i):n,a=_.isFinite(s)?s:n;return logInline(),console.error(\"Failed to start job; status: %s, body: %s\",a,o),t&&console.error(t),this.failed=!0,void this.emit(\"complete\")}this.running=!0,this.taskId=r,this.timestamp=_.now(),this.emit(\"start\"),this.status()}}function onJobStatus(t,e,i){if(this.checking=!1,this.running&&!this.stopping){var s=_.result(i,\"completed\",!1),r=_.first(_.result(i,\"js tests\")),n=(_.now()-this.timestamp)/1e3,o=_.result(r,\"job_id\",null),a=_.result(r,\"result\",null),u=_.result(r,\"status\",\"\"),l=_.result(r,\"url\",null),h=n>=queueTimeout&&!_.includes(u,\"in progress\"),p=this.options,c=p.platforms[0];if(_.isObject(a))var d=_.result(a,\"message\");else\"string\"==typeof a&&(d=a),a=null;if(isJobId(o)?(this.id=o,this.result=a,this.url=l):s=!1,this.emit(\"status\",u),!s&&!h)return void(this._pollerId=_.delay(_.bind(this.status,this),1e3*this.statusInterval));var m=browserName(c[1])+\" \"+c[2]+\" on \"+_.startCase(c[0]),g=!a||!a.passed||reError.test(d)||reError.test(u),f=_.result(a,\"failed\"),v=p.name+\":\",b=this.tunnel;if(g||f){if(g&&this.attempts<this.retries)return void this.restart();var I=\"See \"+l+\" for details.\";if(this.failed=!0,logInline(),f)console.error(v+\" %s \"+chalk.red(\"failed\")+\" %d test\"+(f>1?\"s\":\"\")+\". %s\",m,f,I);else{if(b.attempts<b.retries)return void b.restart();\"undefined\"==typeof d&&(d=\"Results are unavailable. \"+I),console.error(v,m,chalk.red(\"failed\")+\";\",d)}}else logInline(),console.log(v,m,chalk.green(\"passed\"));this.running=!1,this.emit(\"complete\")}}function onTunnelStart(t){if(this.starting=!1,this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null),!t){if(this.attempts<this.retries)return void this.restart();logInline(),console.error(\"Failed to open Sauce Connect tunnel\"),process.exit(2)}logInline(),console.log(\"Sauce Connect tunnel opened\");var e=this.jobs;push.apply(e.queue,e.all),this.running=!0,this.emit(\"start\"),console.log(\"Starting jobs...\"),this.dequeue()}function Job(t){EventEmitter.call(this),this.options={},_.merge(this,t),_.defaults(this.options,_.cloneDeep(jobOptions)),this.attempts=0,this.checking=this.failed=this.removing=this.resetting=this.restarting=this.running=this.starting=this.stopping=!1,this._pollerId=this.id=this.result=this.taskId=this.url=null}function Tunnel(t){EventEmitter.call(this),_.merge(this,t);var e=[],i=[],s=_.map(this.platforms,_.bind(function(t){return new Job(_.merge({user:this.user,pass:this.pass,tunnel:this,options:{platforms:[t]}},this.job))},this)),r=0,n=[],o=!0,a=s.length,u=this;_.invokeMap(s,\"on\",\"complete\",function(){return _.pull(e,this),o&&(o=!this.failed),++r==a?void u.stop(_.partial(u.emit,\"complete\",o)):void u.dequeue()}),_.invokeMap(s,\"on\",\"restart\",function(){_.includes(n,this)||n.push(this);var t=Math.min(s.length,_.isFinite(throttled)?throttled:3);u.attempts<u.retries&&e.length>=t&&_.isEmpty(_.difference(e,n))&&u.restart()}),this.on(\"restart\",function(){r=0,o=!0,n.length=0}),this._timeoutId=null,this.attempts=0,this.restarting=this.running=this.starting=this.stopping=!1,this.jobs={active:e,all:s,queue:i},this.connection=new SauceTunnel(this.user,this.pass,this.id,this.tunneled,[\"-P\",\"0\"])}var env=process.env;\"false\"==env.TRAVIS_SECURE_ENV_VARS&&(console.log(\"Skipping Sauce Labs jobs; secure environment variables are unavailable\"),process.exit(0));var EventEmitter=require(\"events\").EventEmitter,http=require(\"http\"),path=require(\"path\"),url=require(\"url\"),util=require(\"util\"),_=require(\"../lodash.js\"),chalk=require(\"chalk\"),ecstatic=require(\"ecstatic\"),request=require(\"request\"),SauceTunnel=require(\"sauce-tunnel\"),accessKey=env.SAUCE_ACCESS_KEY,username=env.SAUCE_USERNAME,maxJobRetries=3,maxTunnelRetries=3,mount=ecstatic({cache:\"no-cache\",root:process.cwd()}),ports=[80,443,888,2e3,2001,2020,2109,2222,2310,3e3,3001,3030,3210,3333,4e3,4001,4040,4321,4502,4503,4567,5e3,5001,5050,5555,5432,6e3,6001,6060,6666,6543,7e3,7070,7774,7777,8e3,8001,8003,8031,8080,8081,8765,8777,8888,9e3,9001,9080,9090,9876,9877,9999,49221,55001],prevLine=\"\",push=Array.prototype.push,reError=/(?:\\be|E)rror\\b/,reJobId=/^[a-z0-9]{32}$/,throbberDelay=500,waitCount=-1,advisor=getOption(\"advisor\",!1),build=getOption(\"build\",(env.TRAVIS_COMMIT||\"\").slice(0,10)),commandTimeout=getOption(\"commandTimeout\",90),compatMode=getOption(\"compatMode\",null),customData=Function(\"return {\"+getOption(\"customData\",\"\").replace(/^\\{|}$/g,\"\")+\"}\")(),deviceOrientation=getOption(\"deviceOrientation\",\"portrait\"),framework=getOption(\"framework\",\"qunit\"),idleTimeout=getOption(\"idleTimeout\",60),jobName=getOption(\"name\",\"unit tests\"),maxDuration=getOption(\"maxDuration\",180),port=ports[Math.min(_.sortedIndex(ports,getOption(\"port\",9001)),ports.length-1)],publicAccess=getOption(\"public\",!0),queueTimeout=getOption(\"queueTimeout\",240),recordVideo=getOption(\"recordVideo\",!0),recordScreenshots=getOption(\"recordScreenshots\",!1),runner=getOption(\"runner\",\"test/index.html\").replace(/^\\W+/,\"\"),runnerUrl=getOption(\"runnerUrl\",\"http://localhost:\"+port+\"/\"+runner),statusInterval=getOption(\"statusInterval\",5),tags=getOption(\"tags\",[]),throttled=getOption(\"throttled\",10),tunneled=getOption(\"tunneled\",!0),tunnelId=getOption(\"tunnelId\",\"tunnel_\"+(env.TRAVIS_JOB_ID||0)),tunnelTimeout=getOption(\"tunnelTimeout\",120),videoUploadOnPass=getOption(\"videoUploadOnPass\",!1),browserNameMap={googlechrome:\"Chrome\",iehta:\"Internet Explorer\",ipad:\"iPad\",iphone:\"iPhone\",microsoftedge:\"Edge\"},platforms=[[\"Linux\",\"android\",\"5.1\"],[\"Windows 10\",\"chrome\",\"50\"],[\"Windows 10\",\"chrome\",\"49\"],[\"Windows 10\",\"firefox\",\"46\"],[\"Windows 10\",\"firefox\",\"45\"],[\"Windows 10\",\"microsoftedge\",\"13\"],[\"Windows 10\",\"internet explorer\",\"11\"],[\"Windows 8\",\"internet explorer\",\"10\"],[\"Windows 7\",\"internet explorer\",\"9\"],[\"OS X 10.11\",\"safari\",\"9\"],[\"OS X 10.10\",\"safari\",\"8\"]],isAMD=_.includes(tags,\"amd\"),isBackbone=_.includes(tags,\"backbone\"),isModern=_.includes(tags,\"modern\");compatMode&&(platforms=[[\"Windows 10\",\"internet explorer\",\"11\"],[\"Windows 8\",\"internet explorer\",\"10\"],[\"Windows 7\",\"internet explorer\",\"9\"],[\"Windows 7\",\"internet explorer\",\"8\"]]),isAMD&&(platforms=_.filter(platforms,function(t){var e=browserName(t[1]),i=+t[2];switch(e){case\"Android\":return i>=4.4;case\"Opera\":return i>=10}return!0})),isBackbone&&(platforms=_.filter(platforms,function(t){var e=browserName(t[1]),i=+t[2];switch(e){case\"Firefox\":return i>=4;case\"Internet Explorer\":return i>=7;case\"iPad\":return i>=5;case\"Opera\":return i>=12}return!0})),isModern&&(platforms=_.filter(platforms,function(t){var e=browserName(t[1]),i=+t[2];switch(e){case\"Android\":return i>=4.1;case\"Firefox\":return i>=10;case\"Internet Explorer\":return i>=9;case\"iPad\":return i>=6;case\"Opera\":return i>=12;case\"Safari\":return i>=6}return!0}));var jobOptions={build:build,\"command-timeout\":commandTimeout,\"custom-data\":customData,\"device-orientation\":deviceOrientation,framework:framework,\"idle-timeout\":idleTimeout,\"max-duration\":maxDuration,name:jobName,public:publicAccess,platforms:platforms,\"record-screenshots\":recordScreenshots,\"record-video\":recordVideo,\"sauce-advisor\":advisor,tags:tags,url:runnerUrl,\"video-upload-on-pass\":videoUploadOnPass};publicAccess===!0&&(jobOptions.public=\"public\"),tunneled&&(jobOptions[\"tunnel-identifier\"]=tunnelId),util.inherits(Job,EventEmitter),Job.prototype.remove=function(t){return this.once(\"remove\",_.iteratee(t)),this.removing?this:(this.removing=!0,this.stop(function(){var t=_.bind(onJobRemove,this);return this.id?void request.del(_.template(\"https://saucelabs.com/rest/v1/${user}/jobs/${id}\")(this),{auth:{user:this.user,pass:this.pass}},t):void _.defer(t)}))},Job.prototype.reset=function(t){return this.once(\"reset\",_.iteratee(t)),this.resetting?this:(this.resetting=!0,this.remove(onJobReset))},Job.prototype.restart=function(t){if(this.once(\"restart\",_.iteratee(t)),this.restarting)return this;this.restarting=!0;var e=this.options,i=e.platforms[0],s=browserName(i[1])+\" \"+i[2]+\" on \"+_.startCase(i[0]),r=e.name+\":\";return logInline(),console.log(\"%s %s restart %d of %d\",r,s,++this.attempts,this.retries),this.remove(onGenericRestart)},Job.prototype.start=function(t){return this.once(\"start\",_.iteratee(t)),this.starting||this.running?this:(this.starting=!0,request.post(_.template(\"https://saucelabs.com/rest/v1/${user}/js-tests\")(this),{auth:{user:this.user,pass:this.pass},json:this.options},_.bind(onJobStart,this)),this)},Job.prototype.status=function(t){return this.once(\"status\",_.iteratee(t)),this.checking||this.removing||this.resetting||this.restarting||this.starting||this.stopping?this:(this._pollerId=null,this.checking=!0,request.post(_.template(\"https://saucelabs.com/rest/v1/${user}/js-tests/status\")(this),{auth:{user:this.user,pass:this.pass},json:{\"js tests\":[this.taskId]}},_.bind(onJobStatus,this)),this)},Job.prototype.stop=function(t){if(this.once(\"stop\",_.iteratee(t)),this.stopping)return this;this.stopping=!0,this._pollerId&&(clearTimeout(this._pollerId),this._pollerId=null,this.checking=!1);var e=_.bind(onGenericStop,this);return this.running&&this.id?(request.put(_.template(\"https://saucelabs.com/rest/v1/${user}/jobs/${id}/stop\")(this),{auth:{user:this.user,pass:this.pass}},e),this):(_.defer(e),this)},util.inherits(Tunnel,EventEmitter),Tunnel.prototype.restart=function(t){if(this.once(\"restart\",_.iteratee(t)),this.restarting)return this;this.restarting=!0,logInline(),console.log(\"Tunnel %s: restart %d of %d\",this.id,++this.attempts,this.retries);var e=this.jobs,i=e.active,s=e.all,r=_.after(s.length,_.bind(this.stop,this,onGenericRestart)),n=_.after(i.length,_.partial(_.invokeMap,s,\"reset\",r));return _.isEmpty(i)&&_.defer(n),_.isEmpty(s)&&_.defer(r),_.invokeMap(i,\"stop\",function(){_.pull(i,this),n()}),this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null),this},Tunnel.prototype.start=function(t){if(this.once(\"start\",_.iteratee(t)),this.starting||this.running)return this;this.starting=!0,logInline(),console.log(\"Opening Sauce Connect tunnel...\");var e=_.bind(onTunnelStart,this);return this.timeout&&(this._timeoutId=_.delay(e,1e3*this.timeout,!1)),this.connection.start(e),this},Tunnel.prototype.dequeue=function(){for(var t=0,e=this.jobs,i=e.active,s=e.queue,r=this.throttled;s.length&&i.length<r;){var n=s.shift();i.push(n),_.delay(_.bind(n.start,n),1e3*++t)}return this},Tunnel.prototype.stop=function(t){if(this.once(\"stop\",_.iteratee(t)),this.stopping)return this;this.stopping=!0,logInline(),console.log(\"Shutting down Sauce Connect tunnel...\");var e=this.jobs,i=e.active,s=_.after(i.length,_.bind(function(){var t=_.bind(onGenericStop,this);this.running?this.connection.stop(t):t()},this));return e.queue.length=0,_.isEmpty(i)&&_.defer(s),_.invokeMap(i,\"stop\",function(){_.pull(i,this),s()}),this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null),this},process.on(\"SIGINT\",function(){logInline(),process.exit()}),http.createServer(function(t,e){compatMode&&\".html\"==path.extname(url.parse(t.url).pathname)&&e.setHeader(\"X-UA-Compatible\",\"IE=\"+compatMode),mount(t,e)}).listen(port);var tunnel=new Tunnel({user:username,pass:accessKey,id:tunnelId,job:{retries:maxJobRetries,statusInterval:statusInterval},platforms:platforms,retries:maxTunnelRetries,throttled:throttled,tunneled:tunneled,timeout:tunnelTimeout});tunnel.on(\"complete\",function(t){process.exit(t?0:1)}),tunnel.start(),setInterval(logThrobber,throbberDelay);\n//# sourceMappingURL=saucelabs.js.map\n"]}