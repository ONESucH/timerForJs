{"version":3,"sources":["scripts/additionalFilesSites/portfolio/vendor/lodash/vendor/backbone/test/collection.js"],"names":["e","t","n","o","a","i","l","QUnit","module","beforeEach","d","Backbone","Model","id","label","Collection","test","expect","on","deepEqual","pluck","comparator","sort","equal","length","extend","parse","_","filter","strictEqual","first","get","last","model","clone","add","ok","at","cid","idAttribute","_id","attributes","has","notOk","name","this","set","join","amazing","c","r","s","u","Array","f","unshift","merge","silent","collection","value","map","indexOf","negative","index","remove","off","validate","b","shift","pop","slice","reset","title","notEqual","sync","success","destroy","url","fetch","syncArgs","method","options","error","context","call","create","wait","validationError","foo","specialSync","prototype","ajaxSettings","initialize","one","JSON","stringify","where","findWhere","some","reduce","reduceRight","size","rest","includes","isEmpty","without","chain","max","min","difference","sample","groupBy","countBy","0","1","2","3","sortBy","indexBy","find","reject","models","every","partition","false","true","undefined","findIndex","findLastIndex","isEqual","modelParameter","astring","anumber","each","previousModels","trigger","prop","valid","x","opts","ajax","keys","push","namespace","defaults","key","other","child","concat","parsed","status","data","async","xhr","someHeader","defer","forEach","once","constructor","items","apply","arguments","omit","subItems","subName","_addReference","_byId","_events","all","_removeReference","modelId","type","val","changes","added","removed","merged","invoke"],"mappings":"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","file":"collection.js","sourcesContent":["!function(){var e,t,n,o,a,i,l;QUnit.module(\"Backbone.Collection\",{beforeEach:function(d){e=new Backbone.Model({id:3,label:\"a\"}),t=new Backbone.Model({id:2,label:\"b\"}),n=new Backbone.Model({id:1,label:\"c\"}),o=new Backbone.Model({id:0,label:\"d\"}),a=null,i=new Backbone.Collection([e,t,n,o]),l=new Backbone.Collection}}),QUnit.test(\"new and sort\",function(e){e.expect(6);var t=0;i.on(\"sort\",function(){t++}),e.deepEqual(i.pluck(\"label\"),[\"a\",\"b\",\"c\",\"d\"]),i.comparator=function(e,t){return e.id>t.id?-1:1},i.sort(),e.equal(t,1),e.deepEqual(i.pluck(\"label\"),[\"a\",\"b\",\"c\",\"d\"]),i.comparator=function(e){return e.id},i.sort(),e.equal(t,2),e.deepEqual(i.pluck(\"label\"),[\"d\",\"c\",\"b\",\"a\"]),e.equal(i.length,4)}),QUnit.test(\"String comparator.\",function(e){e.expect(1);var t=new Backbone.Collection([{id:3},{id:1},{id:2}],{comparator:\"id\"});e.deepEqual(t.pluck(\"id\"),[1,2,3])}),QUnit.test(\"new and parse\",function(e){e.expect(3);var t=Backbone.Collection.extend({parse:function(e){return _.filter(e,function(e){return e.a%2===0})}}),n=[{a:1},{a:2},{a:3},{a:4}],o=new t(n,{parse:!0});e.strictEqual(o.length,2),e.strictEqual(o.first().get(\"a\"),2),e.strictEqual(o.last().get(\"a\"),4)}),QUnit.test(\"clone preserves model and comparator\",function(e){e.expect(3);var t=Backbone.Model.extend(),n=function(e){return e.id},o=new Backbone.Collection([{id:1}],{model:t,comparator:n}).clone();o.add({id:2}),e.ok(o.at(0)instanceof t),e.ok(o.at(1)instanceof t),e.strictEqual(o.comparator,n)}),QUnit.test(\"get\",function(e){e.expect(6),e.equal(i.get(0),o),e.equal(i.get(o.clone()),o),e.equal(i.get(2),t),e.equal(i.get({id:1}),n),e.equal(i.get(n.clone()),n),e.equal(i.get(i.first().cid),i.first())}),QUnit.test(\"get with non-default ids\",function(e){e.expect(5);var t=Backbone.Model.extend({idAttribute:\"_id\"}),n=new t({_id:100}),o=new Backbone.Collection([n],{model:t});e.equal(o.get(100),n),e.equal(o.get(n.cid),n),e.equal(o.get(n),n),e.equal(o.get(101),void 0);var a=new Backbone.Collection;a.model=t,a.add(n.attributes),e.equal(a.get(n.clone()),a.first())}),QUnit.test(\"has\",function(a){a.expect(15),a.ok(i.has(e)),a.ok(i.has(t)),a.ok(i.has(n)),a.ok(i.has(o)),a.ok(i.has(e.id)),a.ok(i.has(t.id)),a.ok(i.has(n.id)),a.ok(i.has(o.id)),a.ok(i.has(e.cid)),a.ok(i.has(t.cid)),a.ok(i.has(n.cid)),a.ok(i.has(o.cid));var l=new Backbone.Model({id:4});a.notOk(i.has(l)),a.notOk(i.has(l.id)),a.notOk(i.has(l.cid))}),QUnit.test(\"update index when id changes\",function(e){e.expect(4);var t=new Backbone.Collection;t.add([{id:0,name:\"one\"},{id:1,name:\"two\"}]);var n=t.get(0);e.equal(n.get(\"name\"),\"one\"),t.on(\"change:name\",function(t){e.ok(this.get(t))}),n.set({name:\"dalmatians\",id:101}),e.equal(t.get(0),null),e.equal(t.get(101).get(\"name\"),\"dalmatians\")}),QUnit.test(\"at\",function(e){e.expect(2),e.equal(i.at(2),n),e.equal(i.at(-2),n)}),QUnit.test(\"pluck\",function(e){e.expect(1),e.equal(i.pluck(\"label\").join(\" \"),\"a b c d\")}),QUnit.test(\"add\",function(e){e.expect(14);var t,n,o;t=n=o=null,a=new Backbone.Model({id:10,label:\"e\"}),l.add(a),l.on(\"add\",function(){o=!0}),i.on(\"add\",function(e,o,a){t=e.get(\"label\"),n=a}),i.add(a,{amazing:!0}),e.equal(t,\"e\"),e.equal(i.length,5),e.equal(i.last(),a),e.equal(l.length,1),e.equal(o,null),e.ok(n.amazing);var d=new Backbone.Model({id:20,label:\"f\"}),c=new Backbone.Model({id:21,label:\"g\"}),r=new Backbone.Model({id:22,label:\"h\"}),s=new Backbone.Collection([d,c,r]);e.equal(s.length,3),s.add(a,{at:1}),e.equal(s.length,4),e.equal(s.at(1),a),e.equal(s.last(),r);var u=new Backbone.Collection(new Array(2)),f=0;u.on(\"add\",function(){f+=1}),u.add([void 0,d,c]),e.equal(u.length,5),e.equal(f,3),u.add(new Array(4)),e.equal(u.length,9),e.equal(f,7)}),QUnit.test(\"add multiple models\",function(e){e.expect(6);var t=new Backbone.Collection([{at:0},{at:1},{at:9}]);t.add([{at:2},{at:3},{at:4},{at:5},{at:6},{at:7},{at:8}],{at:2});for(var n=0;n<=5;n++)e.equal(t.at(n).get(\"at\"),n)}),QUnit.test(\"add; at should have preference over comparator\",function(e){e.expect(1);var t=Backbone.Collection.extend({comparator:function(e,t){return e.id>t.id?-1:1}}),n=new t([{id:2},{id:3}]);n.add(new Backbone.Model({id:1}),{at:1}),e.equal(n.pluck(\"id\").join(\" \"),\"3 1 2\")}),QUnit.test(\"add; at should add to the end if the index is out of bounds\",function(e){e.expect(1);var t=new Backbone.Collection([{id:2},{id:3}]);t.add(new Backbone.Model({id:1}),{at:5}),e.equal(t.pluck(\"id\").join(\" \"),\"2 3 1\")}),QUnit.test(\"can't add model to collection twice\",function(e){var t=new Backbone.Collection([{id:1},{id:2},{id:1},{id:2},{id:3}]);e.equal(t.pluck(\"id\").join(\" \"),\"1 2 3\")}),QUnit.test(\"can't add different model with same id to collection twice\",function(e){e.expect(1);var t=new Backbone.Collection;t.unshift({id:101}),t.add({id:101}),e.equal(t.length,1)}),QUnit.test(\"merge in duplicate models with {merge: true}\",function(e){e.expect(3);var t=new Backbone.Collection;t.add([{id:1,name:\"Moe\"},{id:2,name:\"Curly\"},{id:3,name:\"Larry\"}]),t.add({id:1,name:\"Moses\"}),e.equal(t.first().get(\"name\"),\"Moe\"),t.add({id:1,name:\"Moses\"},{merge:!0}),e.equal(t.first().get(\"name\"),\"Moses\"),t.add({id:1,name:\"Tim\"},{merge:!0,silent:!0}),e.equal(t.first().get(\"name\"),\"Tim\")}),QUnit.test(\"add model to multiple collections\",function(e){e.expect(10);var t=0,n=new Backbone.Model({id:10,label:\"m\"});n.on(\"add\",function(i,l){t++,e.equal(n,i),t>1?e.equal(l,a):e.equal(l,o)});var o=new Backbone.Collection([]);o.on(\"add\",function(t,a){e.equal(n,t),e.equal(o,a)});var a=new Backbone.Collection([]);a.on(\"add\",function(t,o){e.equal(n,t),e.equal(a,o)}),o.add(n),e.equal(n.collection,o),a.add(n),e.equal(n.collection,o)}),QUnit.test(\"add model with parse\",function(e){e.expect(1);var t=Backbone.Model.extend({parse:function(e){return e.value+=1,e}}),n=Backbone.Collection.extend({model:t}),o=new n;o.add({value:1},{parse:!0}),e.equal(o.at(0).get(\"value\"),2)}),QUnit.test(\"add with parse and merge\",function(e){var t=new Backbone.Collection;t.parse=function(e){return _.map(e,function(e){return e.model?e.model:e})},t.add({id:1}),t.add({model:{id:1,name:\"Alf\"}},{parse:!0,merge:!0}),e.equal(t.first().get(\"name\"),\"Alf\")}),QUnit.test(\"add model to collection with sort()-style comparator\",function(e){e.expect(3);var t=new Backbone.Collection;t.comparator=function(e,t){return e.get(\"name\")<t.get(\"name\")?-1:1};var n=new Backbone.Model({name:\"Tom\"}),o=new Backbone.Model({name:\"Rob\"}),a=new Backbone.Model({name:\"Tim\"});t.add(n),t.add(o),t.add(a),e.equal(t.indexOf(o),0),e.equal(t.indexOf(a),1),e.equal(t.indexOf(n),2)}),QUnit.test(\"comparator that depends on `this`\",function(e){e.expect(2);var t=new Backbone.Collection;t.negative=function(e){return-e},t.comparator=function(e){return this.negative(e.id)},t.add([{id:1},{id:2},{id:3}]),e.deepEqual(t.pluck(\"id\"),[3,2,1]),t.comparator=function(e,t){return this.negative(t.id)-this.negative(e.id)},t.sort(),e.deepEqual(t.pluck(\"id\"),[1,2,3])}),QUnit.test(\"remove\",function(a){a.expect(12);var l=null,d=null;i.on(\"remove\",function(e,t,n){l=e.get(\"label\"),a.equal(n.index,3),a.equal(t.get(e),void 0,\"#3693: model cannot be fetched from collection\")}),d=i.remove(o),a.equal(l,\"d\"),a.strictEqual(d,o),d=i.remove(o),a.strictEqual(d,void 0),a.equal(i.length,3),a.equal(i.first(),e),i.off(),d=i.remove([n,o]),a.equal(d.length,1,\"only returns removed models\"),a.equal(d[0],n,\"only returns removed models\"),d=i.remove([n,t]),a.equal(d.length,1,\"only returns removed models\"),a.equal(d[0],t,\"only returns removed models\"),d=i.remove([]),a.deepEqual(d,[],\"returns empty array when nothing removed\")}),QUnit.test(\"add and remove return values\",function(e){e.expect(13);var t=Backbone.Model.extend({validate:function(e){if(e.id%2!==0)return\"odd\"}}),n=new Backbone.Collection;n.model=t;var o=n.add([{id:2},{id:4}],{validate:!0});e.equal(o.length,2),e.ok(o[0]instanceof Backbone.Model),e.equal(o[1],n.last()),e.equal(o[1].get(\"id\"),4),o=n.add([{id:3},{id:6}],{validate:!0}),e.equal(n.length,3),e.equal(o[0],!1),e.equal(o[1].get(\"id\"),6);var a=n.add({id:6});e.equal(a.cid,o[1].cid),a=n.remove({id:6}),e.equal(n.length,2),e.equal(a.id,6),o=n.remove([{id:2},{id:8}]),e.equal(n.length,1),e.equal(o[0].get(\"id\"),2),e.equal(o[1],null)}),QUnit.test(\"shift and pop\",function(e){e.expect(2);var t=new Backbone.Collection([{a:\"a\"},{b:\"b\"},{c:\"c\"}]);e.equal(t.shift().get(\"a\"),\"a\"),e.equal(t.pop().get(\"c\"),\"c\")}),QUnit.test(\"slice\",function(e){e.expect(2);var t=new Backbone.Collection([{a:\"a\"},{b:\"b\"},{c:\"c\"}]),n=t.slice(1,3);e.equal(n.length,2),e.equal(n[0].get(\"b\"),\"b\")}),QUnit.test(\"events are unbound on remove\",function(e){e.expect(3);var t=0,n=new Backbone.Model,o=new Backbone.Collection([n]);o.on(\"change\",function(){t++}),n.set({name:\"Kool\"}),e.equal(t,1),o.reset([]),e.equal(n.collection,void 0),n.set({name:\"Shadow\"}),e.equal(t,1)}),QUnit.test(\"remove in multiple collections\",function(e){e.expect(7);var t={id:5,title:\"Othello\"},n=!1,o=new Backbone.Model(t),a=new Backbone.Model(t);a.on(\"remove\",function(){n=!0});var i=new Backbone.Collection([o]),l=new Backbone.Collection([a]);e.notEqual(o,a),e.ok(1===i.length),e.ok(1===l.length),i.remove(o),e.equal(n,!1),e.ok(0===i.length),l.remove(o),e.ok(0===l.length),e.equal(n,!0)}),QUnit.test(\"remove same model in multiple collection\",function(e){e.expect(16);var t=0,n=new Backbone.Model({id:5,title:\"Othello\"});n.on(\"remove\",function(i,l){t++,e.equal(n,i),t>1?e.equal(l,o):e.equal(l,a)});var o=new Backbone.Collection([n]);o.on(\"remove\",function(t,a){e.equal(n,t),e.equal(o,a)});var a=new Backbone.Collection([n]);a.on(\"remove\",function(t,o){e.equal(n,t),e.equal(a,o)}),e.equal(o,n.collection),a.remove(n),e.ok(0===a.length),e.ok(1===o.length),e.equal(t,1),e.equal(o,n.collection),o.remove(n),e.equal(null,n.collection),e.ok(0===o.length),e.equal(t,2)}),QUnit.test(\"model destroy removes from all collections\",function(e){e.expect(3);var t=new Backbone.Model({id:5,title:\"Othello\"});t.sync=function(e,t,n){n.success()};var n=new Backbone.Collection([t]),o=new Backbone.Collection([t]);t.destroy(),e.ok(0===n.length),e.ok(0===o.length),e.equal(void 0,t.collection)}),QUnit.test(\"Collection: non-persisted model destroy removes from all collections\",function(e){e.expect(3);var t=new Backbone.Model({title:\"Othello\"});t.sync=function(e,t,n){throw\"should not be called\"};var n=new Backbone.Collection([t]),o=new Backbone.Collection([t]);t.destroy(),e.ok(0===n.length),e.ok(0===o.length),e.equal(void 0,t.collection)}),QUnit.test(\"fetch\",function(e){e.expect(4);var t=new Backbone.Collection;t.url=\"/test\",t.fetch(),e.equal(this.syncArgs.method,\"read\"),e.equal(this.syncArgs.model,t),e.equal(this.syncArgs.options.parse,!0),t.fetch({parse:!1}),e.equal(this.syncArgs.options.parse,!1)}),QUnit.test(\"fetch with an error response triggers an error event\",function(e){e.expect(1);var t=new Backbone.Collection;t.on(\"error\",function(){e.ok(!0)}),t.sync=function(e,t,n){n.error()},t.fetch()}),QUnit.test(\"#3283 - fetch with an error response calls error with context\",function(e){e.expect(1);var t=new Backbone.Collection,n={},o={context:n,error:function(){e.equal(this,n)}};t.sync=function(e,t,n){n.error.call(n.context)},t.fetch(o)}),QUnit.test(\"ensure fetch only parses once\",function(e){e.expect(1);var t=new Backbone.Collection,n=0;t.parse=function(e){return n++,e},t.url=\"/test\",t.fetch(),this.syncArgs.options.success([]),e.equal(n,1)}),QUnit.test(\"create\",function(e){e.expect(4);var t=new Backbone.Collection;t.url=\"/test\";var n=t.create({label:\"f\"},{wait:!0});e.equal(this.syncArgs.method,\"create\"),e.equal(this.syncArgs.model,n),e.equal(n.get(\"label\"),\"f\"),e.equal(n.collection,t)}),QUnit.test(\"create with validate:true enforces validation\",function(e){e.expect(3);var t=Backbone.Model.extend({validate:function(e){return\"fail\"}}),n=Backbone.Collection.extend({model:t}),o=new n;o.on(\"invalid\",function(t,n,o){e.equal(n,\"fail\"),e.equal(o.validationError,\"fail\")}),e.equal(o.create({foo:\"bar\"},{validate:!0}),!1)}),QUnit.test(\"create will pass extra options to success callback\",function(e){e.expect(1);var t=Backbone.Model.extend({sync:function(e,t,n){return _.extend(n,{specialSync:!0}),Backbone.Model.prototype.sync.call(this,e,t,n)}}),n=Backbone.Collection.extend({model:t,url:\"/test\"}),o=new n,a=function(t,n,o){e.ok(o.specialSync,\"Options were passed correctly to callback\")};o.create({},{success:a}),this.ajaxSettings.success()}),QUnit.test(\"create with wait:true should not call collection.parse\",function(e){e.expect(0);var t=Backbone.Collection.extend({url:\"/test\",parse:function(){e.ok(!1)}}),n=new t;n.create({},{wait:!0}),this.ajaxSettings.success()}),QUnit.test(\"a failing create returns model with errors\",function(e){var t=Backbone.Model.extend({validate:function(e){return\"fail\"}}),n=Backbone.Collection.extend({model:t}),o=new n,a=o.create({foo:\"bar\"});e.equal(a.validationError,\"fail\"),e.equal(o.length,1)}),QUnit.test(\"initialize\",function(e){e.expect(1);var t=Backbone.Collection.extend({initialize:function(){this.one=1}}),n=new t;e.equal(n.one,1)}),QUnit.test(\"toJSON\",function(e){e.expect(1),e.equal(JSON.stringify(i),'[{\"id\":3,\"label\":\"a\"},{\"id\":2,\"label\":\"b\"},{\"id\":1,\"label\":\"c\"},{\"id\":0,\"label\":\"d\"}]')}),QUnit.test(\"where and findWhere\",function(e){e.expect(8);var t=new Backbone.Model({a:1}),n=new Backbone.Collection([t,{a:1},{a:1,b:2},{a:2,b:2},{a:3}]);e.equal(n.where({a:1}).length,3),e.equal(n.where({a:2}).length,1),e.equal(n.where({a:3}).length,1),e.equal(n.where({b:1}).length,0),e.equal(n.where({b:2}).length,2),e.equal(n.where({a:1,b:2}).length,1),e.equal(n.findWhere({a:1}),t),e.equal(n.findWhere({a:4}),void 0)}),QUnit.test(\"Underscore methods\",function(a){a.expect(21),a.equal(i.map(function(e){return e.get(\"label\")}).join(\" \"),\"a b c d\"),a.equal(i.some(function(e){return 100===e.id}),!1),a.equal(i.some(function(e){return 0===e.id}),!0),a.equal(i.reduce(function(e,t){return e.id>t.id?e:t}).id,3),a.equal(i.reduceRight(function(e,t){return e.id>t.id?e:t}).id,3),a.equal(i.indexOf(t),1),a.equal(i.size(),4),a.equal(i.rest().length,3),a.ok(!_.includes(i.rest(),e)),a.ok(_.includes(i.rest(),o)),a.ok(!i.isEmpty()),a.ok(!_.includes(i.without(o),o));var l=i.chain();a.equal(l.map(\"id\").max().value(),3),a.equal(l.map(\"id\").min().value(),0),a.deepEqual(l.filter(function(e){return e.id%2===0}).map(function(e){return 2*e.id}).value(),[4,0]),a.deepEqual(i.difference([n,o]),[e,t]),a.ok(i.includes(i.sample()));var d=i.first();a.deepEqual(i.groupBy(function(e){return e.id})[d.id],[d]),a.deepEqual(i.countBy(function(e){return e.id}),{0:1,1:1,2:1,3:1}),a.deepEqual(i.sortBy(function(e){return e.id})[0],i.at(3)),a.ok(i.indexBy(\"id\")[d.id]===d)}),QUnit.test(\"Underscore methods with object-style and property-style iteratee\",function(e){e.expect(26);var t=new Backbone.Model({a:4,b:1,e:3}),n=new Backbone.Collection([{a:1,b:1},{a:2,b:1,c:1},{a:3,b:1},t]);e.equal(n.find({a:0}),void 0),e.deepEqual(n.find({a:4}),t),e.equal(n.find(\"d\"),void 0),e.deepEqual(n.find(\"e\"),t),e.equal(n.filter({a:0}),!1),e.deepEqual(n.filter({a:4}),[t]),e.equal(n.some({a:0}),!1),e.equal(n.some({a:1}),!0),e.equal(n.reject({a:0}).length,4),e.deepEqual(n.reject({a:4}),_.without(n.models,t)),e.equal(n.every({a:0}),!1),e.equal(n.every({b:1}),!0),e.deepEqual(n.partition({a:0})[0],[]),e.deepEqual(n.partition({a:0})[1],n.models),e.deepEqual(n.partition({a:4})[0],[t]),e.deepEqual(n.partition({a:4})[1],_.without(n.models,t)),e.deepEqual(n.map({a:2}),[!1,!0,!1,!1]),e.deepEqual(n.map(\"a\"),[1,2,3,4]),e.deepEqual(n.sortBy(\"a\")[3],t),e.deepEqual(n.sortBy(\"e\")[0],t),e.deepEqual(n.countBy({a:4}),{false:3,true:1}),e.deepEqual(n.countBy(\"d\"),{undefined:4}),e.equal(n.findIndex({b:1}),0),e.equal(n.findIndex({b:9}),-1),e.equal(n.findLastIndex({b:1}),3),e.equal(n.findLastIndex({b:9}),-1)}),QUnit.test(\"reset\",function(e){e.expect(16);var t=0,n=i.models;i.on(\"reset\",function(){t+=1}),i.reset([]),e.equal(t,1),e.equal(i.length,0),e.equal(i.last(),null),i.reset(n),e.equal(t,2),e.equal(i.length,4),e.equal(i.last(),o),i.reset(_.map(n,function(e){return e.attributes})),e.equal(t,3),e.equal(i.length,4),e.ok(i.last()!==o),e.ok(_.isEqual(i.last().attributes,o.attributes)),i.reset(),e.equal(i.length,0),e.equal(t,4);var a=new Backbone.Model({id:20,label:\"f\"});i.reset([void 0,a]),e.equal(i.length,2),e.equal(t,5),i.reset(new Array(4)),e.equal(i.length,4),e.equal(t,6)}),QUnit.test(\"reset with different values\",function(e){var t=new Backbone.Collection({id:1});t.reset({id:1,a:1}),e.equal(t.get(1).get(\"a\"),1)}),QUnit.test(\"same references in reset\",function(e){var t=new Backbone.Model({id:1}),n=new Backbone.Collection({id:1});n.reset(t),e.equal(n.get(1),t)}),QUnit.test(\"reset passes caller options\",function(e){e.expect(3);var t=Backbone.Model.extend({initialize:function(e,t){this.modelParameter=t.modelParameter}}),n=new(Backbone.Collection.extend({model:t}));n.reset([{astring:\"green\",anumber:1},{astring:\"blue\",anumber:2}],{modelParameter:\"model parameter\"}),e.equal(n.length,2),n.each(function(t){e.equal(t.modelParameter,\"model parameter\")})}),QUnit.test(\"reset does not alter options by reference\",function(e){e.expect(2);var t=new Backbone.Collection([{id:1}]),n={};t.on(\"reset\",function(t,o){e.equal(n.previousModels,void 0),e.equal(o.previousModels[0].id,1)}),t.reset([],n)}),QUnit.test(\"trigger custom events on models\",function(t){t.expect(1);var n=null;e.on(\"custom\",function(){n=!0}),e.trigger(\"custom\"),t.equal(n,!0)}),QUnit.test(\"add does not alter arguments\",function(e){e.expect(2);var t={},n=[t];(new Backbone.Collection).add(n),e.equal(n.length,1),e.ok(t===n[0])}),QUnit.test(\"#714: access `model.collection` in a brand new model.\",function(e){e.expect(2);var t=new Backbone.Collection;t.url=\"/test\";var n=Backbone.Model.extend({set:function(n){return e.equal(n.prop,\"value\"),e.equal(this.collection,t),this}});t.model=n,t.create({prop:\"value\"})}),QUnit.test(\"#574, remove its own reference to the .models array.\",function(e){e.expect(2);var t=new Backbone.Collection([{id:1},{id:2},{id:3},{id:4},{id:5},{id:6}]);e.equal(t.length,6),t.remove(t.models),e.equal(t.length,0)}),QUnit.test(\"#861, adding models to a collection which do not pass validation, with validate:true\",function(e){e.expect(2);var t=Backbone.Model.extend({validate:function(e){if(3===e.id)return\"id can't be 3\"}}),n=Backbone.Collection.extend({model:t}),o=new n;o.on(\"invalid\",function(){e.ok(!0)}),o.add([{id:1},{id:2},{id:3},{id:4},{id:5},{id:6}],{validate:!0}),e.deepEqual(o.pluck(\"id\"),[1,2,4,5,6])}),QUnit.test(\"Invalid models are discarded with validate:true.\",function(e){e.expect(5);var t=new Backbone.Collection;t.on(\"test\",function(){e.ok(!0)}),t.model=Backbone.Model.extend({validate:function(e){if(!e.valid)return\"invalid\"}});var n=new t.model({id:1,valid:!0});t.add([n,{id:2}],{validate:!0}),n.trigger(\"test\"),e.ok(t.get(n.cid)),e.ok(t.get(1)),e.ok(!t.get(2)),e.equal(t.length,1)}),QUnit.test(\"multiple copies of the same model\",function(e){e.expect(3);var t=new Backbone.Collection,n=new Backbone.Model;t.add([n,n]),e.equal(t.length,1),t.add([{id:1},{id:1}]),e.equal(t.length,2),e.equal(t.last().id,1)}),QUnit.test(\"#964 - collection.get return inconsistent\",function(e){e.expect(2);var t=new Backbone.Collection;e.ok(void 0===t.get(null)),e.ok(void 0===t.get())}),QUnit.test(\"#1112 - passing options.model sets collection.model\",function(e){e.expect(2);var t=Backbone.Model.extend({}),n=new Backbone.Collection([{id:1}],{model:t});e.ok(n.model===t),e.ok(n.at(0)instanceof t)}),QUnit.test(\"null and undefined are invalid ids.\",function(e){e.expect(2);var t=new Backbone.Model({id:1}),n=new Backbone.Collection([t]);t.set({id:null}),e.ok(!n.get(\"null\")),t.set({id:1}),t.set({id:void 0}),e.ok(!n.get(\"undefined\"))}),QUnit.test(\"falsy comparator\",function(e){e.expect(4);var t=Backbone.Collection.extend({comparator:function(e){return e.id}}),n=new t,o=new t(null,{comparator:!1}),a=new t(null,{comparator:null}),i=new t(null,{comparator:void 0});e.ok(n.comparator),e.ok(!o.comparator),e.ok(!a.comparator),e.ok(i.comparator)}),QUnit.test(\"#1355 - `options` is passed to success callbacks\",function(e){e.expect(2);var t=new Backbone.Model({x:1}),n=new Backbone.Collection,o={opts:!0,success:function(t,n,o){e.ok(o.opts)}};n.sync=t.sync=function(e,t,n){n.success({})},n.fetch(o),n.create(t,o)}),QUnit.test(\"#1412 - Trigger 'request' and 'sync' events.\",function(e){e.expect(4);var t=new Backbone.Collection;t.url=\"/test\",Backbone.ajax=function(e){e.success()},t.on(\"request\",function(n,o,a){e.ok(n===t,\"collection has correct 'request' event after fetching\")}),t.on(\"sync\",function(n,o,a){e.ok(n===t,\"collection has correct 'sync' event after fetching\")}),t.fetch(),t.off(),t.on(\"request\",function(n,o,a){e.ok(n===t.get(1),\"collection has correct 'request' event after one of its models save\")}),t.on(\"sync\",function(n,o,a){e.ok(n===t.get(1),\"collection has correct 'sync' event after one of its models save\")}),t.create({id:1}),t.off()}),QUnit.test(\"#3283 - fetch, create calls success with context\",function(e){e.expect(2);var t=new Backbone.Collection;t.url=\"/test\",Backbone.ajax=function(e){e.success.call(e.context)};var n={},o={context:n,success:function(){e.equal(this,n)}};t.fetch(o),t.create({id:1},o)}),QUnit.test(\"#1447 - create with wait adds model.\",function(e){e.expect(1);var t=new Backbone.Collection,n=new Backbone.Model;n.sync=function(e,t,n){n.success()},t.on(\"add\",function(){e.ok(!0)}),t.create(n,{wait:!0})}),QUnit.test(\"#1448 - add sorts collection after merge.\",function(e){e.expect(1);var t=new Backbone.Collection([{id:1,x:1},{id:2,x:2}]);t.comparator=function(e){return e.get(\"x\")},t.add({id:1,x:3},{merge:!0}),e.deepEqual(t.pluck(\"id\"),[2,1])}),QUnit.test(\"#1655 - groupBy can be used with a string argument.\",function(e){e.expect(3);var t=new Backbone.Collection([{x:1},{x:2}]),n=t.groupBy(\"x\");e.strictEqual(_.keys(n).length,2),e.strictEqual(n[1][0].get(\"x\"),1),e.strictEqual(n[2][0].get(\"x\"),2)}),QUnit.test(\"#1655 - sortBy can be used with a string argument.\",function(e){e.expect(1);var t=new Backbone.Collection([{x:3},{x:1},{x:2}]),n=_.map(t.sortBy(\"x\"),function(e){return e.get(\"x\")});e.deepEqual(n,[1,2,3])}),QUnit.test(\"#1604 - Removal during iteration.\",function(e){e.expect(0);var t=new Backbone.Collection([{},{}]);t.on(\"add\",function(){t.at(0).destroy()}),t.add({},{at:0})}),QUnit.test(\"#1638 - `sort` during `add` triggers correctly.\",function(e){var t=new Backbone.Collection;t.comparator=function(e){return e.get(\"x\")};var n=[];t.on(\"add\",function(e){e.set({x:3}),t.sort(),n.push(e.id)}),t.add([{id:1,x:1},{id:2,x:2}]),e.deepEqual(n,[1,2])}),QUnit.test(\"fetch parses models by default\",function(e){e.expect(1);var t={},n=Backbone.Collection.extend({url:\"test\",model:Backbone.Model.extend({parse:function(n){e.strictEqual(n,t)}})});(new n).fetch(),this.ajaxSettings.success([t])}),QUnit.test(\"`sort` shouldn't always fire on `add`\",function(e){e.expect(1);var t=new Backbone.Collection([{id:1},{id:2},{id:3}],{comparator:\"id\"});t.sort=function(){e.ok(!0)},t.add([]),t.add({id:1}),t.add([{id:2},{id:3}]),t.add({id:4})}),QUnit.test(\"#1407 parse option on constructor parses collection and models\",function(e){e.expect(2);var t={namespace:[{id:1},{id:2}]},n=Backbone.Collection.extend({model:Backbone.Model.extend({parse:function(e){return e.name=\"test\",e}}),parse:function(e){return e.namespace}}),o=new n(t,{parse:!0});e.equal(o.length,2),e.equal(o.at(0).get(\"name\"),\"test\")}),QUnit.test(\"#1407 parse option on reset parses collection and models\",function(e){e.expect(2);var t={namespace:[{id:1},{id:2}]},n=Backbone.Collection.extend({model:Backbone.Model.extend({parse:function(e){return e.name=\"test\",e}}),parse:function(e){return e.namespace}}),o=new n;o.reset(t,{parse:!0}),e.equal(o.length,2),e.equal(o.at(0).get(\"name\"),\"test\")}),QUnit.test(\"Reset includes previous models in triggered event.\",function(e){e.expect(1);var t=new Backbone.Model,n=new Backbone.Collection([t]);n.on(\"reset\",function(n,o){e.deepEqual(o.previousModels,[t])}),n.reset([])}),QUnit.test(\"set\",function(e){var t=new Backbone.Model,n=new Backbone.Model({id:2}),o=new Backbone.Model,a=new Backbone.Collection([t,n]);a.on(\"add\",function(t){e.strictEqual(t,o)}),a.on(\"change\",function(t){e.strictEqual(t,n)}),a.on(\"remove\",function(n){e.strictEqual(n,t)}),a.set([],{remove:!1}),e.strictEqual(a.length,2),a.set([t,n,o],{add:!1}),e.strictEqual(a.length,2),a.set([t,{id:2,a:1}],{merge:!1}),e.strictEqual(n.get(\"a\"),void 0),a.set([t,{id:2,a:0},o,{id:4}],{add:!1,remove:!1}),e.strictEqual(a.length,2),e.strictEqual(n.get(\"a\"),0),a.set([{id:2,a:1},o]),e.strictEqual(a.length,2),e.strictEqual(n.get(\"a\"),1),a.off(\"remove\").on(\"remove\",function(t){e.ok(t===n||t===o)}),a.set([]),e.strictEqual(a.length,0),a.off(),a.set([{id:1}]),a.set(),e.strictEqual(a.length,1)}),QUnit.test(\"set with only cids\",function(e){e.expect(3);var t=new Backbone.Model,n=new Backbone.Model,o=new Backbone.Collection;o.set([t,n]),e.equal(o.length,2),o.set([t]),e.equal(o.length,1),o.set([t,t,t,n,n],{remove:!1}),e.equal(o.length,2)}),QUnit.test(\"set with only idAttribute\",function(e){e.expect(3);var t={_id:1},n={_id:2},o=Backbone.Collection.extend({model:Backbone.Model.extend({idAttribute:\"_id\"})}),a=new o;a.set([t,n]),e.equal(a.length,2),a.set([t]),e.equal(a.length,1),a.set([t,t,t,n,n],{remove:!1}),e.equal(a.length,2)}),QUnit.test(\"set + merge with default values defined\",function(e){var t=Backbone.Model.extend({defaults:{key:\"value\"}}),n=new t({id:1}),o=new Backbone.Collection([n],{model:t});e.equal(o.first().get(\"key\"),\"value\"),o.set({id:1,key:\"other\"}),e.equal(o.first().get(\"key\"),\"other\"),o.set({id:1,other:\"value\"}),e.equal(o.first().get(\"key\"),\"other\"),e.equal(o.length,1)}),QUnit.test(\"merge without mutation\",function(e){var t=Backbone.Model.extend({initialize:function(e,n){e.child&&this.set(\"child\",new t(e.child,n),n)}}),n=Backbone.Collection.extend({model:t}),o=[{id:1,child:{id:2}}],a=new n(o);e.equal(a.first().id,1),a.set(o),e.equal(a.first().id,1),a.set([{id:2,child:{id:2}}].concat(o)),e.deepEqual(a.pluck(\"id\"),[2,1])}),QUnit.test(\"`set` and model level `parse`\",function(e){var t=Backbone.Model.extend({}),n=Backbone.Collection.extend({model:t,parse:function(e){return _.map(e.models,\"model\")}}),o=new t({id:1}),a=new n(o);a.set({models:[{model:{id:1}},{model:{id:2}}]},{parse:!0}),e.equal(a.first(),o)}),QUnit.test(\"`set` data is only parsed once\",function(e){var t=new Backbone.Collection;t.model=Backbone.Model.extend({parse:function(t){return e.equal(t.parsed,void 0),t.parsed=!0,t}}),t.set({},{parse:!0})}),QUnit.test(\"`set` matches input order in the absence of a comparator\",function(e){var t=new Backbone.Model({id:1}),n=new Backbone.Model({id:2}),o=new Backbone.Model({id:3}),a=new Backbone.Collection([t,n,o]);a.set([{id:3},{id:2},{id:1}]),e.deepEqual(a.models,[o,n,t]),a.set([{id:1},{id:2}]),e.deepEqual(a.models,[t,n]),a.set([n,o,t]),e.deepEqual(a.models,[n,o,t]),a.set([{id:1},{id:2}],{remove:!1}),e.deepEqual(a.models,[n,o,t]),a.set([{id:1},{id:2},{id:3}],{merge:!1}),e.deepEqual(a.models,[t,n,o]),a.set([o,n,t,{id:4}],{add:!1}),e.deepEqual(a.models,[t,n,o])}),QUnit.test(\"#1894 - Push should not trigger a sort\",function(e){e.expect(0);var t=Backbone.Collection.extend({comparator:\"id\",sort:function(){e.ok(!1)}});(new t).push({id:1})}),QUnit.test(\"#2428 - push duplicate models, return the correct one\",function(e){e.expect(1);var t=new Backbone.Collection,n=t.push({id:101}),o=t.push({id:101});e.ok(o.cid===n.cid)}),QUnit.test(\"`set` with non-normal id\",function(e){var t=Backbone.Collection.extend({model:Backbone.Model.extend({idAttribute:\"_id\"})}),n=new t({_id:1});n.set([{_id:1,a:1}],{add:!1}),e.equal(n.first().get(\"a\"),1)}),QUnit.test(\"#1894 - `sort` can optionally be turned off\",function(e){e.expect(0);var t=Backbone.Collection.extend({comparator:\"id\",sort:function(){e.ok(!1)}});(new t).add({id:1},{sort:!1})}),QUnit.test(\"#1915 - `parse` data in the right order in `set`\",function(e){var t=new(Backbone.Collection.extend({parse:function(t){return e.strictEqual(t.status,\"ok\"),t.data}})),n={status:\"ok\",data:[{id:1}]};t.set(n,{parse:!0})}),QUnit.test(\"#1939 - `parse` is passed `options`\",function(e){var t=e.async();e.expect(1);var n=new(Backbone.Collection.extend({url:\"/\",parse:function(t,n){return e.strictEqual(n.xhr.someHeader,\"headerValue\"),t}})),o=Backbone.ajax;Backbone.ajax=function(e){return _.defer(e.success,[]),{someHeader:\"headerValue\"}},n.fetch({success:function(){t()}}),Backbone.ajax=o}),QUnit.test(\"fetch will pass extra options to success callback\",function(e){e.expect(1);var t=Backbone.Collection.extend({url:\"/test\",sync:function(e,t,n){return _.extend(n,{specialSync:!0}),Backbone.Collection.prototype.sync.call(this,e,t,n)}}),n=new t,o=function(t,n,o){e.ok(o.specialSync,\"Options were passed correctly to callback\")};n.fetch({success:o}),this.ajaxSettings.success()}),QUnit.test(\"`add` only `sort`s when necessary\",function(e){e.expect(2);var t=new(Backbone.Collection.extend({comparator:\"a\"}))([{id:1},{id:2},{id:3}]);t.on(\"sort\",function(){e.ok(!0)}),t.add({id:4}),t.add({id:1,a:1},{merge:!0}),t.add({id:1,b:1},{merge:!0}),t.add({id:1,a:1},{merge:!0}),t.add(t.models),t.add(t.models,{merge:!0})}),QUnit.test(\"`add` only `sort`s when necessary with comparator function\",function(e){e.expect(3);var t=new(Backbone.Collection.extend({comparator:function(e,t){return e.get(\"a\")>t.get(\"a\")?1:e.get(\"a\")<t.get(\"a\")?-1:0}}))([{id:1},{id:2},{id:3}]);t.on(\"sort\",function(){e.ok(!0)}),t.add({id:4}),t.add({id:1,a:1},{merge:!0}),t.add({id:1,b:1},{merge:!0}),t.add({id:1,a:1},{merge:!0}),t.add(t.models),t.add(t.models,{merge:!0})}),QUnit.test(\"Attach options to collection.\",function(e){e.expect(2);var t=Backbone.Model,n=function(){},o=new Backbone.Collection([],{model:t,comparator:n});e.ok(o.model===t),e.ok(o.comparator===n)}),QUnit.test(\"Pass falsey for `models` for empty Col with `options`\",function(e){e.expect(9);var t={a:1,b:2};_.forEach([void 0,null,!1],function(n){var o=Backbone.Collection.extend({initialize:function(o,a){e.strictEqual(o,n),e.strictEqual(a,t)}}),a=new o(n,t);e.strictEqual(a.length,0)})}),QUnit.test(\"`add` overrides `set` flags\",function(e){var t=new Backbone.Collection;t.once(\"add\",function(e,t,n){t.add({id:2},n)}),t.set({id:1}),e.equal(t.length,2)}),QUnit.test(\"#2606 - Collection#create, success arguments\",function(e){e.expect(1);var t=new Backbone.Collection;t.url=\"test\",t.create({},{success:function(t,n,o){e.strictEqual(n,\"response\")}}),this.ajaxSettings.success(\"response\")}),QUnit.test(\"#2612 - nested `parse` works with `Collection#set`\",function(e){var t=Backbone.Model.extend({constructor:function(){this.items=new o,Backbone.Model.apply(this,arguments)},parse:function(e){return this.items.set(e.items,{parse:!0}),_.omit(e,\"items\")}}),n=Backbone.Model.extend({constructor:function(){this.subItems=new Backbone.Collection,Backbone.Model.apply(this,arguments)},parse:function(e){return this.subItems.set(e.subItems,{parse:!0}),_.omit(e,\"subItems\")}}),o=Backbone.Collection.extend({model:n}),a={name:\"JobName\",id:1,items:[{id:1,name:\"Sub1\",subItems:[{id:1,subName:\"One\"},{id:2,subName:\"Two\"}]},{id:2,name:\"Sub2\",subItems:[{id:3,subName:\"Three\"},{id:4,subName:\"Four\"}]}]},i={name:\"NewJobName\",id:1,items:[{id:1,name:\"NewSub1\",subItems:[{id:1,subName:\"NewOne\"},{id:2,subName:\"NewTwo\"}]},{id:2,name:\"NewSub2\",subItems:[{id:3,subName:\"NewThree\"},{id:4,subName:\"NewFour\"}]}]},l=new t(a,{parse:!0});e.equal(l.get(\"name\"),\"JobName\"),e.equal(l.items.at(0).get(\"name\"),\"Sub1\"),e.equal(l.items.length,2),e.equal(l.items.get(1).subItems.get(1).get(\"subName\"),\"One\"),e.equal(l.items.get(2).subItems.get(3).get(\"subName\"),\"Three\"),l.set(l.parse(i,{parse:!0})),e.equal(l.get(\"name\"),\"NewJobName\"),e.equal(l.items.at(0).get(\"name\"),\"NewSub1\"),e.equal(l.items.length,2),e.equal(l.items.get(1).subItems.get(1).get(\"subName\"),\"NewOne\"),e.equal(l.items.get(2).subItems.get(3).get(\"subName\"),\"NewThree\")}),QUnit.test(\"_addReference binds all collection events & adds to the lookup hashes\",function(e){e.expect(8);var t={add:0,remove:0},n=Backbone.Collection.extend({_addReference:function(n){Backbone.Collection.prototype._addReference.apply(this,arguments),t.add++,e.equal(n,this._byId[n.id]),\ne.equal(n,this._byId[n.cid]),e.equal(n._events.all.length,1)},_removeReference:function(n){Backbone.Collection.prototype._removeReference.apply(this,arguments),t.remove++,e.equal(this._byId[n.id],void 0),e.equal(this._byId[n.cid],void 0),e.equal(n.collection,void 0)}}),o=new n,a=o.add({id:1});o.remove(a),e.equal(t.add,1),e.equal(t.remove,1)}),QUnit.test(\"Do not allow duplicate models to be `add`ed or `set`\",function(e){var t=new Backbone.Collection;t.add([{id:1},{id:1}]),e.equal(t.length,1),e.equal(t.models.length,1),t.set([{id:1},{id:1}]),e.equal(t.length,1),e.equal(t.models.length,1)}),QUnit.test(\"#3020: #set with {add: false} should not throw.\",function(e){e.expect(2);var t=new Backbone.Collection;t.set([{id:1}],{add:!1}),e.strictEqual(t.length,0),e.strictEqual(t.models.length,0)}),QUnit.test(\"create with wait, model instance, #3028\",function(e){e.expect(1);var t=new Backbone.Collection,n=new Backbone.Model({id:1});n.sync=function(){e.equal(this.collection,t)},t.create(n,{wait:!0})}),QUnit.test(\"modelId\",function(e){var t=Backbone.Model.extend(),n=Backbone.Collection.extend({model:t});e.equal(n.prototype.modelId({id:1}),1),t.prototype.idAttribute=\"_id\",e.equal(n.prototype.modelId({_id:1}),1)}),QUnit.test('Polymorphic models work with \"simple\" constructors',function(e){var t=Backbone.Model.extend(),n=Backbone.Model.extend(),o=Backbone.Collection.extend({model:function(e){return\"a\"===e.type?new t(e):new n(e)}}),a=new o([{id:1,type:\"a\"},{id:2,type:\"b\"}]);e.equal(a.length,2),e.ok(a.at(0)instanceof t),e.equal(a.at(0).id,1),e.ok(a.at(1)instanceof n),e.equal(a.at(1).id,2)}),QUnit.test('Polymorphic models work with \"advanced\" constructors',function(e){var t=Backbone.Model.extend({idAttribute:\"_id\"}),n=Backbone.Model.extend({idAttribute:\"_id\"}),o=Backbone.Collection.extend({model:Backbone.Model.extend({constructor:function(e){return\"a\"===e.type?new t(e):new n(e)},idAttribute:\"_id\"})}),a=new o([{_id:1,type:\"a\"},{_id:2,type:\"b\"}]);e.equal(a.length,2),e.ok(a.at(0)instanceof t),e.equal(a.at(0),a.get(1)),e.ok(a.at(1)instanceof n),e.equal(a.at(1),a.get(2)),o=Backbone.Collection.extend({model:function(e){return\"a\"===e.type?new t(e):new n(e)},modelId:function(e){return e.type+\"-\"+e.id}}),a=new o([{id:1,type:\"a\"},{id:1,type:\"b\"}]),e.equal(a.length,2),e.ok(a.at(0)instanceof t),e.equal(a.at(0),a.get(\"a-1\")),e.ok(a.at(1)instanceof n),e.equal(a.at(1),a.get(\"b-1\"))}),QUnit.test(\"Collection with polymorphic models receives default id from modelId\",function(e){e.expect(6);var t=Backbone.Collection.extend({model:function(e){return new Backbone.Model(e)}}),n=new t({id:1});e.equal(n.get(1).id,1),e.equal(n.modelId({id:1}),1);var o=Backbone.Model.extend({idAttribute:\"_id\"}),a=Backbone.Collection.extend({model:function(e){return new o(e)}}),i=new a({_id:1});e.equal(i.get(1),void 0),e.equal(i.modelId(i.at(0).attributes),void 0);var l=new o({_id:2});i.add(l),e.equal(i.get(2),void 0),e.equal(i.modelId(l.attributes),void 0)}),QUnit.test(\"#3039 #3951: adding at index fires with correct at\",function(e){e.expect(4);var t=new Backbone.Collection([{val:0},{val:4}]);t.on(\"add\",function(t,n,o){e.equal(t.get(\"val\"),o.index)}),t.add([{val:1},{val:2},{val:3}],{at:1}),t.add({val:5},{at:10})}),QUnit.test(\"#3039: index is not sent when at is not specified\",function(e){e.expect(2);var t=new Backbone.Collection([{at:0}]);t.on(\"add\",function(t,n,o){e.equal(void 0,o.index)}),t.add([{at:1},{at:2}])}),QUnit.test(\"#3199 - Order changing should trigger a sort\",function(e){e.expect(1);var t=new Backbone.Model({id:1}),n=new Backbone.Model({id:2}),o=new Backbone.Model({id:3}),a=new Backbone.Collection([t,n,o]);a.on(\"sort\",function(){e.ok(!0)}),a.set([{id:3},{id:2},{id:1}])}),QUnit.test(\"#3199 - Adding a model should trigger a sort\",function(e){e.expect(1);var t=new Backbone.Model({id:1}),n=new Backbone.Model({id:2}),o=new Backbone.Model({id:3}),a=new Backbone.Collection([t,n,o]);a.on(\"sort\",function(){e.ok(!0)}),a.set([{id:1},{id:2},{id:3},{id:0}])}),QUnit.test(\"#3199 - Order not changing should not trigger a sort\",function(e){e.expect(0);var t=new Backbone.Model({id:1}),n=new Backbone.Model({id:2}),o=new Backbone.Model({id:3}),a=new Backbone.Collection([t,n,o]);a.on(\"sort\",function(){e.ok(!1)}),a.set([{id:1},{id:2},{id:3}])}),QUnit.test(\"add supports negative indexes\",function(e){e.expect(1);var t=new Backbone.Collection([{id:1}]);t.add([{id:2},{id:3}],{at:-1}),t.add([{id:2.5}],{at:-2}),t.add([{id:.5}],{at:-6}),e.equal(t.pluck(\"id\").join(\",\"),\"0.5,1,2,2.5,3\")}),QUnit.test(\"#set accepts options.at as a string\",function(e){e.expect(1);var t=new Backbone.Collection([{id:1},{id:2}]);t.add([{id:3}],{at:\"1\"}),e.deepEqual(t.pluck(\"id\"),[1,3,2])}),QUnit.test(\"adding multiple models triggers `update` event once\",function(e){e.expect(1);var t=new Backbone.Collection;t.on(\"update\",function(){e.ok(!0)}),t.add([{id:1},{id:2},{id:3}])}),QUnit.test(\"removing models triggers `update` event once\",function(e){e.expect(1);var t=new Backbone.Collection([{id:1},{id:2},{id:3}]);t.on(\"update\",function(){e.ok(!0)}),t.remove([{id:1},{id:2}])}),QUnit.test(\"remove does not trigger `update` when nothing removed\",function(e){e.expect(0);var t=new Backbone.Collection([{id:1},{id:2}]);t.on(\"update\",function(){e.ok(!1)}),t.remove([{id:3}])}),QUnit.test(\"set triggers `set` event once\",function(e){e.expect(1);var t=new Backbone.Collection([{id:1},{id:2}]);t.on(\"update\",function(){e.ok(!0)}),t.set([{id:1},{id:3}])}),QUnit.test(\"set does not trigger `update` event when nothing added nor removed\",function(e){var t=new Backbone.Collection([{id:1},{id:2}]);t.on(\"update\",function(t,n){e.equal(n.changes.added.length,0),e.equal(n.changes.removed.length,0),e.equal(n.changes.merged.length,2)}),t.set([{id:1},{id:2}])}),QUnit.test(\"#3610 - invoke collects arguments\",function(e){e.expect(3);var t=Backbone.Model.extend({method:function(t,n,o){e.equal(t,1),e.equal(n,2),e.equal(o,3)}}),n=Backbone.Collection.extend({model:t}),o=new n([{id:1}]);o.invoke(\"method\",1,2,3)}),QUnit.test(\"#3662 - triggering change without model will not error\",function(e){e.expect(1);var t=new Backbone.Collection([{id:1}]),n=t.first();t.on(\"change\",function(t){e.equal(t,void 0)}),n.trigger(\"change\")}),QUnit.test(\"#3871 - falsy parse result creates empty collection\",function(e){var t=new(Backbone.Collection.extend({parse:function(e,t){}}));t.set(\"\",{parse:!0}),e.equal(t.length,0)}),QUnit.test(\"#3711 - remove's `update` event returns one removed model\",function(e){var t=new Backbone.Model({id:1,title:\"First Post\"}),n=new Backbone.Collection([t]);n.on(\"update\",function(n,o){var a=o.changes;e.deepEqual(a.added,[]),e.deepEqual(a.merged,[]),e.strictEqual(a.removed[0],t)}),n.remove(t)}),QUnit.test(\"#3711 - remove's `update` event returns multiple removed models\",function(e){var t=new Backbone.Model({id:1,title:\"First Post\"}),n=new Backbone.Model({id:2,title:\"Second Post\"}),o=new Backbone.Collection([t,n]);o.on(\"update\",function(o,a){var i=a.changes;e.deepEqual(i.added,[]),e.deepEqual(i.merged,[]),e.ok(2===i.removed.length),e.ok(_.indexOf(i.removed,t)>-1&&_.indexOf(i.removed,n)>-1)}),o.remove([t,n])}),QUnit.test(\"#3711 - set's `update` event returns one added model\",function(e){var t=new Backbone.Model({id:1,title:\"First Post\"}),n=new Backbone.Collection;n.on(\"update\",function(n,o){var a=o.changes.added;e.ok(1===a.length),e.strictEqual(a[0],t)}),n.set(t)}),QUnit.test(\"#3711 - set's `update` event returns multiple added models\",function(e){var t=new Backbone.Model({id:1,title:\"First Post\"}),n=new Backbone.Model({id:2,title:\"Second Post\"}),o=new Backbone.Collection;o.on(\"update\",function(o,a){var i=a.changes.added;e.ok(2===i.length),e.strictEqual(i[0],t),e.strictEqual(i[1],n)}),o.set([t,n])}),QUnit.test(\"#3711 - set's `update` event returns one removed model\",function(e){var t=new Backbone.Model({id:1,title:\"First Post\"}),n=new Backbone.Model({id:2,title:\"Second Post\"}),o=new Backbone.Model({id:3,title:\"My Last Post\"}),a=new Backbone.Collection([t]);a.on(\"update\",function(n,o){var a=o.changes;e.equal(a.added.length,2),e.equal(a.merged.length,0),e.ok(1===a.removed.length),e.strictEqual(a.removed[0],t)}),a.set([n,o])}),QUnit.test(\"#3711 - set's `update` event returns multiple removed models\",function(e){var t=new Backbone.Model({id:1,title:\"First Post\"}),n=new Backbone.Model({id:2,title:\"Second Post\"}),o=new Backbone.Model({id:3,title:\"My Last Post\"}),a=new Backbone.Collection([t,n]);a.on(\"update\",function(o,a){var i=a.changes.removed;e.ok(2===i.length),e.strictEqual(i[0],t),e.strictEqual(i[1],n)}),a.set([o])}),QUnit.test(\"#3711 - set's `update` event returns one merged model\",function(e){var t=new Backbone.Model({id:1,title:\"First Post\"}),n=new Backbone.Model({id:2,title:\"Second Post\"}),o=new Backbone.Model({id:2,title:\"Second Post V2\"}),a=new Backbone.Collection([t,n]);a.on(\"update\",function(t,n){var a=n.changes.merged;e.ok(1===a.length),e.strictEqual(a[0].get(\"title\"),o.get(\"title\"))}),a.set([o])}),QUnit.test(\"#3711 - set's `update` event returns multiple merged models\",function(e){var t=new Backbone.Model({id:1,title:\"First Post\"}),n=new Backbone.Model({id:1,title:\"First Post V2\"}),o=new Backbone.Model({id:2,title:\"Second Post\"}),a=new Backbone.Model({id:2,title:\"Second Post V2\"}),i=new Backbone.Collection([t,o]);i.on(\"update\",function(t,o){var i=o.changes.merged;e.ok(2===i.length),e.strictEqual(i[0].get(\"title\"),a.get(\"title\")),e.strictEqual(i[1].get(\"title\"),n.get(\"title\"))}),i.set([a,n])}),QUnit.test(\"#3711 - set's `update` event should not be triggered adding a model which already exists exactly alike\",function(e){var t=!1,n=new Backbone.Model({id:1,title:\"First Post\"}),o=new Backbone.Collection([n]);o.on(\"update\",function(e,n){t=!0}),o.set([n]),e.equal(t,!1)})}();\n//# sourceMappingURL=collection.js.map\n"]}