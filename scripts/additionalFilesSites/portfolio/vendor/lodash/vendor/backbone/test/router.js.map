{"version":3,"sources":["scripts/additionalFilesSites/portfolio/vendor/lodash/vendor/backbone/test/router.js"],"names":["t","e","o","a","n","c","this","replace","_","extend","prototype","parser","document","createElement","href","pick","test","pathname","toString","QUnit","module","setup","Backbone","history","History","location","s","testing","interval","start","pushState","on","teardown","stop","off","r","value","routingFunction","bind","Router","count","routes","noCallback","counter","search/:query","search/:query/p:page","charñ","char%C3%B1","contacts","contacts/new","contacts/:id","route-event/:arg","optional(/:item)","named/optional/(y:z)","splat/*args/end",":repo/compare/*from...*to","decode/:named/*splat","*first/complex-*part/*rest","query/:entity","function/:value","*anything","initialize","route","implicit","search","query","page","charUTF","charType","charEscaped","contact","newContact","loadContact","optionalItem","arg","splat","args","github","repo","from","to","complex","first","part","rest","entity","queryArgs","anything","namedOptional","z","decode","named","path","routeEvent","expect","equal","checkUrl","navigate","trigger","ok","each","loadUrl","strictEqual","foo","execute","apply","root","hashChange","silent","getFragment","assign","fragment","replaceState","","empty","deepEqual","home","index","__super__","show","hash","myyjä","myyjä/:query","stuff\nnonsense","foo/:id/bar"],"mappings":"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","file":"router.js","sourcesContent":["!function(){var t=null,e=null,o=null,a=[],n=function(t,e,n){o=e,a=n},c=function(t){this.replace(t)};_.extend(c.prototype,{parser:document.createElement(\"a\"),replace:function(t){this.parser.href=t,_.extend(this,_.pick(this.parser,\"href\",\"hash\",\"host\",\"search\",\"fragment\",\"pathname\",\"protocol\")),/^\\//.test(this.pathname)||(this.pathname=\"/\"+this.pathname)},toString:function(){return this.href}}),QUnit.module(\"Backbone.Router\",{setup:function(){e=new c(\"http://example.com\"),Backbone.history=_.extend(new Backbone.History,{location:e}),t=new s({testing:101}),Backbone.history.interval=9,Backbone.history.start({pushState:!1}),o=null,a=[],Backbone.history.on(\"route\",n)},teardown:function(){Backbone.history.stop(),Backbone.history.off(\"route\",n)}});var r={value:\"unset\",routingFunction:function(t){this.value=t}};r.routingFunction=_.bind(r.routingFunction,r);var s=Backbone.Router.extend({count:0,routes:{noCallback:\"noCallback\",counter:\"counter\",\"search/:query\":\"search\",\"search/:query/p:page\":\"search\",\"charñ\":\"charUTF\",\"char%C3%B1\":\"charEscaped\",contacts:\"contacts\",\"contacts/new\":\"newContact\",\"contacts/:id\":\"loadContact\",\"route-event/:arg\":\"routeEvent\",\"optional(/:item)\":\"optionalItem\",\"named/optional/(y:z)\":\"namedOptional\",\"splat/*args/end\":\"splat\",\":repo/compare/*from...*to\":\"github\",\"decode/:named/*splat\":\"decode\",\"*first/complex-*part/*rest\":\"complex\",\"query/:entity\":\"query\",\"function/:value\":r.routingFunction,\"*anything\":\"anything\"},initialize:function(t){this.testing=t.testing,this.route(\"implicit\",\"implicit\")},counter:function(){this.count++},implicit:function(){this.count++},search:function(t,e){this.query=t,this.page=e},charUTF:function(){this.charType=\"UTF\"},charEscaped:function(){this.charType=\"escaped\"},contacts:function(){this.contact=\"index\"},newContact:function(){this.contact=\"new\"},loadContact:function(){this.contact=\"load\"},optionalItem:function(t){this.arg=void 0!==t?t:null},splat:function(t){this.args=t},github:function(t,e,o){this.repo=t,this.from=e,this.to=o},complex:function(t,e,o){this.first=t,this.part=e,this.rest=o},query:function(t,e){this.entity=t,this.queryArgs=e},anything:function(t){this.anything=t},namedOptional:function(t){this.z=t},decode:function(t,e){this.named=t,this.path=e},routeEvent:function(t){}});QUnit.test(\"initialize\",function(e){e.expect(1),e.equal(t.testing,101)}),QUnit.test(\"routes (simple)\",function(n){n.expect(4),e.replace(\"http://example.com#search/news\"),Backbone.history.checkUrl(),n.equal(t.query,\"news\"),n.equal(t.page,void 0),n.equal(o,\"search\"),n.equal(a[0],\"news\")}),QUnit.test(\"routes (simple, but unicode)\",function(n){n.expect(4),e.replace(\"http://example.com#search/тест\"),Backbone.history.checkUrl(),n.equal(t.query,\"тест\"),n.equal(t.page,void 0),n.equal(o,\"search\"),n.equal(a[0],\"тест\")}),QUnit.test(\"routes (two part)\",function(o){o.expect(2),e.replace(\"http://example.com#search/nyc/p10\"),Backbone.history.checkUrl(),o.equal(t.query,\"nyc\"),o.equal(t.page,\"10\")}),QUnit.test(\"routes via navigate\",function(e){e.expect(2),Backbone.history.navigate(\"search/manhattan/p20\",{trigger:!0}),e.equal(t.query,\"manhattan\"),e.equal(t.page,\"20\")}),QUnit.test(\"routes via navigate with params\",function(e){e.expect(1),Backbone.history.navigate(\"query/test?a=b\",{trigger:!0}),e.equal(t.queryArgs,\"a=b\")}),QUnit.test(\"routes via navigate for backwards-compatibility\",function(e){e.expect(2),Backbone.history.navigate(\"search/manhattan/p20\",!0),e.equal(t.query,\"manhattan\"),e.equal(t.page,\"20\")}),QUnit.test(\"reports matched route via nagivate\",function(t){t.expect(1),t.ok(Backbone.history.navigate(\"search/manhattan/p20\",!0))}),QUnit.test(\"route precedence via navigate\",function(e){e.expect(6),_.each([{trigger:!0},!0],function(o){Backbone.history.navigate(\"contacts\",o),e.equal(t.contact,\"index\"),Backbone.history.navigate(\"contacts/new\",o),e.equal(t.contact,\"new\"),Backbone.history.navigate(\"contacts/foo\",o),e.equal(t.contact,\"load\")})}),QUnit.test(\"loadUrl is not called for identical routes.\",function(t){t.expect(0),Backbone.history.loadUrl=function(){t.ok(!1)},e.replace(\"http://example.com#route\"),Backbone.history.navigate(\"route\"),Backbone.history.navigate(\"/route\"),Backbone.history.navigate(\"/route\")}),QUnit.test(\"use implicit callback if none provided\",function(e){e.expect(1),t.count=0,t.navigate(\"implicit\",{trigger:!0}),e.equal(t.count,1)}),QUnit.test(\"routes via navigate with {replace: true}\",function(t){t.expect(1),e.replace(\"http://example.com#start_here\"),Backbone.history.checkUrl(),e.replace=function(e){t.strictEqual(e,new c(\"http://example.com#end_here\").href)},Backbone.history.navigate(\"end_here\",{replace:!0})}),QUnit.test(\"routes (splats)\",function(o){o.expect(1),e.replace(\"http://example.com#splat/long-list/of/splatted_99args/end\"),Backbone.history.checkUrl(),o.equal(t.args,\"long-list/of/splatted_99args\")}),QUnit.test(\"routes (github)\",function(o){o.expect(3),e.replace(\"http://example.com#backbone/compare/1.0...braddunbar:with/slash\"),Backbone.history.checkUrl(),o.equal(t.repo,\"backbone\"),o.equal(t.from,\"1.0\"),o.equal(t.to,\"braddunbar:with/slash\")}),QUnit.test(\"routes (optional)\",function(o){o.expect(2),e.replace(\"http://example.com#optional\"),Backbone.history.checkUrl(),o.ok(!t.arg),e.replace(\"http://example.com#optional/thing\"),Backbone.history.checkUrl(),o.equal(t.arg,\"thing\")}),QUnit.test(\"routes (complex)\",function(o){o.expect(3),e.replace(\"http://example.com#one/two/three/complex-part/four/five/six/seven\"),Backbone.history.checkUrl(),o.equal(t.first,\"one/two/three\"),o.equal(t.part,\"part\"),o.equal(t.rest,\"four/five/six/seven\")}),QUnit.test(\"routes (query)\",function(n){n.expect(5),e.replace(\"http://example.com#query/mandel?a=b&c=d\"),Backbone.history.checkUrl(),n.equal(t.entity,\"mandel\"),n.equal(t.queryArgs,\"a=b&c=d\"),n.equal(o,\"query\"),n.equal(a[0],\"mandel\"),n.equal(a[1],\"a=b&c=d\")}),QUnit.test(\"routes (anything)\",function(o){o.expect(1),e.replace(\"http://example.com#doesnt-match-a-route\"),Backbone.history.checkUrl(),o.equal(t.anything,\"doesnt-match-a-route\")}),QUnit.test(\"routes (function)\",function(o){o.expect(3),t.on(\"route\",function(t){o.ok(\"\"===t)}),o.equal(r.value,\"unset\"),e.replace(\"http://example.com#function/set\"),Backbone.history.checkUrl(),o.equal(r.value,\"set\")}),QUnit.test(\"Decode named parameters, not splats.\",function(o){o.expect(2),e.replace(\"http://example.com#decode/a%2Fb/c%2Fd/e\"),Backbone.history.checkUrl(),o.strictEqual(t.named,\"a/b\"),o.strictEqual(t.path,\"c/d/e\")}),QUnit.test(\"fires event when router doesn't have callback on it\",function(o){o.expect(1),t.on(\"route:noCallback\",function(){o.ok(!0)}),e.replace(\"http://example.com#noCallback\"),Backbone.history.checkUrl()}),QUnit.test(\"No events are triggered if #execute returns false.\",function(t){t.expect(1);var o=Backbone.Router.extend({routes:{foo:function(){t.ok(!0)}},execute:function(t,e){return t.apply(this,e),!1}}),a=new o;a.on(\"route route:foo\",function(){t.ok(!1)}),Backbone.history.on(\"route\",function(){t.ok(!1)}),e.replace(\"http://example.com#foo\"),Backbone.history.checkUrl()}),QUnit.test(\"#933, #908 - leading slash\",function(t){t.expect(2),e.replace(\"http://example.com/root/foo\"),Backbone.history.stop(),Backbone.history=_.extend(new Backbone.History,{location:e}),Backbone.history.start({root:\"/root\",hashChange:!1,silent:!0}),t.strictEqual(Backbone.history.getFragment(),\"foo\"),Backbone.history.stop(),Backbone.history=_.extend(new Backbone.History,{location:e}),Backbone.history.start({root:\"/root/\",hashChange:!1,silent:!0}),t.strictEqual(Backbone.history.getFragment(),\"foo\")}),QUnit.test(\"#967 - Route callback gets passed encoded values.\",function(e){e.expect(3);var o=\"has%2Fslash/complex-has%23hash/has%20space\";Backbone.history.navigate(o,{trigger:!0}),e.strictEqual(t.first,\"has/slash\"),e.strictEqual(t.part,\"has#hash\"),e.strictEqual(t.rest,\"has space\")}),QUnit.test(\"correctly handles URLs with % (#868)\",function(a){a.expect(3),e.replace(\"http://example.com#search/fat%3A1.5%25\"),Backbone.history.checkUrl(),e.replace(\"http://example.com#search/fat\"),Backbone.history.checkUrl(),a.equal(t.query,\"fat\"),a.equal(t.page,void 0),a.equal(o,\"search\")}),QUnit.test(\"#2666 - Hashes with UTF8 in them.\",function(e){e.expect(2),Backbone.history.navigate(\"charñ\",{trigger:!0}),e.equal(t.charType,\"UTF\"),Backbone.history.navigate(\"char%C3%B1\",{trigger:!0}),e.equal(t.charType,\"UTF\")}),QUnit.test(\"#1185 - Use pathname when hashChange is not wanted.\",function(t){t.expect(1),Backbone.history.stop(),e.replace(\"http://example.com/path/name#hash\"),Backbone.history=_.extend(new Backbone.History,{location:e}),Backbone.history.start({hashChange:!1});var o=Backbone.history.getFragment();t.strictEqual(o,e.pathname.replace(/^\\//,\"\"))}),QUnit.test(\"#1206 - Strip leading slash before location.assign.\",function(t){t.expect(1),Backbone.history.stop(),e.replace(\"http://example.com/root/\"),Backbone.history=_.extend(new Backbone.History,{location:e}),Backbone.history.start({hashChange:!1,root:\"/root/\"}),e.assign=function(e){t.strictEqual(e,\"/root/fragment\")},Backbone.history.navigate(\"/fragment\")}),QUnit.test(\"#1387 - Root fragment without trailing slash.\",function(t){t.expect(1),Backbone.history.stop(),e.replace(\"http://example.com/root\"),Backbone.history=_.extend(new Backbone.History,{location:e}),Backbone.history.start({hashChange:!1,root:\"/root/\",silent:!0}),t.strictEqual(Backbone.history.getFragment(),\"\")}),QUnit.test(\"#1366 - History does not prepend root to fragment.\",function(t){t.expect(2),Backbone.history.stop(),e.replace(\"http://example.com/root/\"),Backbone.history=_.extend(new Backbone.History,{location:e,history:{pushState:function(e,o,a){t.strictEqual(a,\"/root/x\")}}}),Backbone.history.start({root:\"/root/\",pushState:!0,hashChange:!1}),Backbone.history.navigate(\"x\"),t.strictEqual(Backbone.history.fragment,\"x\")}),QUnit.test(\"Normalize root.\",function(t){t.expect(1),Backbone.history.stop(),e.replace(\"http://example.com/root\"),Backbone.history=_.extend(new Backbone.History,{location:e,history:{pushState:function(e,o,a){t.strictEqual(a,\"/root/fragment\")}}}),Backbone.history.start({pushState:!0,root:\"/root\",hashChange:!1}),Backbone.history.navigate(\"fragment\")}),QUnit.test(\"Normalize root.\",function(t){t.expect(1),Backbone.history.stop(),e.replace(\"http://example.com/root#fragment\"),Backbone.history=_.extend(new Backbone.History,{location:e,history:{pushState:function(t,e,o){},replaceState:function(e,o,a){t.strictEqual(a,\"/root/fragment\")}}}),Backbone.history.start({pushState:!0,root:\"/root\"})}),QUnit.test(\"Normalize root.\",function(t){t.expect(1),Backbone.history.stop(),e.replace(\"http://example.com/root\"),Backbone.history=_.extend(new Backbone.History,{location:e}),Backbone.history.loadUrl=function(){t.ok(!0)},Backbone.history.start({pushState:!0,root:\"/root\"})}),QUnit.test(\"Normalize root - leading slash.\",function(t){t.expect(1),Backbone.history.stop(),e.replace(\"http://example.com/root\"),Backbone.history=_.extend(new Backbone.History,{location:e,history:{pushState:function(){},replaceState:function(){}}}),Backbone.history.start({root:\"root\"}),t.strictEqual(Backbone.history.root,\"/root/\")}),QUnit.test(\"Transition from hashChange to pushState.\",function(t){t.expect(1),Backbone.history.stop(),e.replace(\"http://example.com/root#x/y\"),Backbone.history=_.extend(new Backbone.History,{location:e,history:{pushState:function(){},replaceState:function(e,o,a){t.strictEqual(a,\"/root/x/y\")}}}),Backbone.history.start({root:\"root\",pushState:!0})}),QUnit.test(\"#1619: Router: Normalize empty root\",function(t){t.expect(1),Backbone.history.stop(),e.replace(\"http://example.com/\"),Backbone.history=_.extend(new Backbone.History,{location:e,history:{pushState:function(){},replaceState:function(){}}}),Backbone.history.start({root:\"\"}),t.strictEqual(Backbone.history.root,\"/\")}),QUnit.test(\"#1619: Router: nagivate with empty root\",function(t){t.expect(1),Backbone.history.stop(),e.replace(\"http://example.com/\"),Backbone.history=_.extend(new Backbone.History,{location:e,history:{pushState:function(e,o,a){t.strictEqual(a,\"/fragment\")}}}),Backbone.history.start({pushState:!0,root:\"\",hashChange:!1}),Backbone.history.navigate(\"fragment\")}),QUnit.test(\"Transition from pushState to hashChange.\",function(t){t.expect(1),Backbone.history.stop(),e.replace(\"http://example.com/root/x/y?a=b\"),e.replace=function(e){t.strictEqual(e,\"/root#x/y?a=b\")},Backbone.history=_.extend(new Backbone.History,{location:e,history:{pushState:null,replaceState:null}}),Backbone.history.start({root:\"root\",pushState:!0})}),QUnit.test(\"#1695 - hashChange to pushState with search.\",function(t){t.expect(1),Backbone.history.stop(),e.replace(\"http://example.com/root#x/y?a=b\"),Backbone.history=_.extend(new Backbone.History,{location:e,history:{pushState:function(){},replaceState:function(e,o,a){t.strictEqual(a,\"/root/x/y?a=b\")}}}),Backbone.history.start({root:\"root\",pushState:!0})}),QUnit.test(\"#1746 - Router allows empty route.\",function(t){t.expect(1);var e=Backbone.Router.extend({routes:{\"\":\"empty\"},empty:function(){},route:function(e){t.strictEqual(e,\"\")}});new e}),QUnit.test(\"#1794 - Trailing space in fragments.\",function(t){t.expect(1);var e=new Backbone.History;t.strictEqual(e.getFragment(\"fragment   \"),\"fragment\")}),QUnit.test(\"#1820 - Leading slash and trailing space.\",1,function(t){var e=new Backbone.History;t.strictEqual(e.getFragment(\"/fragment \"),\"fragment\")}),QUnit.test(\"#1980 - Optional parameters.\",function(o){o.expect(2),e.replace(\"http://example.com#named/optional/y\"),Backbone.history.checkUrl(),o.strictEqual(t.z,void 0),e.replace(\"http://example.com#named/optional/y123\"),Backbone.history.checkUrl(),o.strictEqual(t.z,\"123\")}),QUnit.test(\"#2062 - Trigger 'route' event on router instance.\",function(o){o.expect(2),t.on(\"route\",function(t,e){o.strictEqual(t,\"routeEvent\"),o.deepEqual(e,[\"x\",null])}),e.replace(\"http://example.com#route-event/x\"),Backbone.history.checkUrl()}),QUnit.test(\"#2255 - Extend routes by making routes a function.\",function(t){t.expect(1);var e=Backbone.Router.extend({routes:function(){return{home:\"root\",index:\"index.html\"}}}),o=e.extend({routes:function(){var t=o.__super__.routes;return _.extend(t(),{show:\"show\",search:\"search\"})}}),a=new o;t.deepEqual({home:\"root\",index:\"index.html\",show:\"show\",search:\"search\"},a.routes)}),QUnit.test(\"#2538 - hashChange to pushState only if both requested.\",function(t){t.expect(0),Backbone.history.stop(),e.replace(\"http://example.com/root?a=b#x/y\"),Backbone.history=_.extend(new Backbone.History,{location:e,history:{pushState:function(){},replaceState:function(){t.ok(!1)}}}),Backbone.history.start({root:\"root\",pushState:!0,hashChange:!1})}),QUnit.test(\"No hash fallback.\",function(t){t.expect(0),Backbone.history.stop(),Backbone.history=_.extend(new Backbone.History,{location:e,history:{pushState:function(){},replaceState:function(){}}});var o=Backbone.Router.extend({routes:{hash:function(){t.ok(!1)}}});new o,e.replace(\"http://example.com/\"),Backbone.history.start({pushState:!0,hashChange:!1}),e.replace(\"http://example.com/nomatch#hash\"),Backbone.history.checkUrl()}),QUnit.test(\"#2656 - No trailing slash on root.\",function(t){t.expect(1),Backbone.history.stop(),Backbone.history=_.extend(new Backbone.History,{location:e,history:{pushState:function(e,o,a){t.strictEqual(a,\"/root\")}}}),e.replace(\"http://example.com/root/path\"),Backbone.history.start({pushState:!0,hashChange:!1,root:\"root\"}),Backbone.history.navigate(\"\")}),QUnit.test(\"#2656 - No trailing slash on root.\",function(t){t.expect(1),Backbone.history.stop(),Backbone.history=_.extend(new Backbone.History,{location:e,history:{pushState:function(e,o,a){t.strictEqual(a,\"/\")}}}),e.replace(\"http://example.com/path\"),Backbone.history.start({pushState:!0,hashChange:!1}),Backbone.history.navigate(\"\")}),QUnit.test(\"#2656 - No trailing slash on root.\",function(t){t.expect(1),Backbone.history.stop(),Backbone.history=_.extend(new Backbone.History,{location:e,history:{pushState:function(e,o,a){t.strictEqual(a,\"/root?x=1\")}}}),e.replace(\"http://example.com/root/path\"),Backbone.history.start({pushState:!0,hashChange:!1,root:\"root\"}),Backbone.history.navigate(\"?x=1\")}),QUnit.test(\"#2765 - Fragment matching sans query/hash.\",function(t){t.expect(2),Backbone.history.stop(),Backbone.history=_.extend(new Backbone.History,{location:e,history:{pushState:function(e,o,a){t.strictEqual(a,\"/path?query#hash\")}}});var o=Backbone.Router.extend({routes:{path:function(){t.ok(!0)}}});new o,e.replace(\"http://example.com/\"),Backbone.history.start({pushState:!0,hashChange:!1}),Backbone.history.navigate(\"path?query#hash\",!0)}),QUnit.test(\"Do not decode the search params.\",function(t){t.expect(1);var e=Backbone.Router.extend({routes:{path:function(e){t.strictEqual(e,\"x=y%3Fz\")}}});new e,Backbone.history.navigate(\"path?x=y%3Fz\",!0)}),QUnit.test(\"Navigate to a hash url.\",function(t){t.expect(1),Backbone.history.stop(),Backbone.history=_.extend(new Backbone.History,{location:e}),Backbone.history.start({pushState:!0});var o=Backbone.Router.extend({routes:{path:function(e){t.strictEqual(e,\"x=y\")}}});new o,e.replace(\"http://example.com/path?x=y#hash\"),Backbone.history.checkUrl()}),QUnit.test(\"#navigate to a hash url.\",function(t){t.expect(1),Backbone.history.stop(),Backbone.history=_.extend(new Backbone.History,{location:e}),Backbone.history.start({pushState:!0});var o=Backbone.Router.extend({routes:{path:function(e){t.strictEqual(e,\"x=y\")}}});new o,Backbone.history.navigate(\"path?x=y#hash\",!0)}),QUnit.test(\"unicode pathname\",function(t){t.expect(1),e.replace(\"http://example.com/myyjä\"),Backbone.history.stop(),Backbone.history=_.extend(new Backbone.History,{location:e});var o=Backbone.Router.extend({routes:{\"myyjä\":function(){t.ok(!0)}}});new o,Backbone.history.start({pushState:!0})}),QUnit.test(\"unicode pathname with % in a parameter\",function(t){t.expect(1),e.replace(\"http://example.com/myyjä/foo%20%25%3F%2f%40%25%20bar\"),e.pathname=\"/myyj%C3%A4/foo%20%25%3F%2f%40%25%20bar\",Backbone.history.stop(),Backbone.history=_.extend(new Backbone.History,{location:e});var o=Backbone.Router.extend({routes:{\"myyjä/:query\":function(e){t.strictEqual(e,\"foo %?/@% bar\")}}});new o,Backbone.history.start({pushState:!0})}),QUnit.test(\"newline in route\",function(t){t.expect(1),e.replace(\"http://example.com/stuff%0Anonsense?param=foo%0Abar\"),Backbone.history.stop(),Backbone.history=_.extend(new Backbone.History,{location:e});var o=Backbone.Router.extend({routes:{\"stuff\\nnonsense\":function(){t.ok(!0)}}});new o,Backbone.history.start({pushState:!0})}),QUnit.test(\"Router#execute receives callback, args, name.\",function(t){t.expect(3),e.replace(\"http://example.com#foo/123/bar?x=y\"),Backbone.history.stop(),Backbone.history=_.extend(new Backbone.History,{location:e});var o=Backbone.Router.extend({routes:{\"foo/:id/bar\":\"foo\"},foo:function(){},execute:function(e,o,a){t.strictEqual(e,this.foo),t.deepEqual(o,[\"123\",\"x=y\"]),t.strictEqual(a,\"foo\")}});new o,Backbone.history.start()}),QUnit.test(\"pushState to hashChange with only search params.\",function(t){t.expect(1),Backbone.history.stop(),e.replace(\"http://example.com?a=b\"),e.replace=function(e){t.strictEqual(e,\"/#?a=b\")},Backbone.history=_.extend(new Backbone.History,{location:e,history:null}),Backbone.history.start({pushState:!0})}),QUnit.test(\"#3123 - History#navigate decodes before comparison.\",function(t){t.expect(1),Backbone.history.stop(),e.replace(\"http://example.com/shop/search?keyword=short%20dress\"),Backbone.history=_.extend(new Backbone.History,{location:e,history:{pushState:function(){t.ok(!1)},replaceState:function(){t.ok(!1)}}}),Backbone.history.start({pushState:!0}),Backbone.history.navigate(\"shop/search?keyword=short%20dress\",!0),t.strictEqual(Backbone.history.fragment,\"shop/search?keyword=short dress\")}),QUnit.test(\"#3175 - Urls in the params\",function(t){t.expect(1),Backbone.history.stop(),e.replace(\"http://example.com#login?a=value&backUrl=https%3A%2F%2Fwww.msn.com%2Fidp%2Fidpdemo%3Fspid%3Dspdemo%26target%3Db\"),Backbone.history=_.extend(new Backbone.History,{location:e});var o=new Backbone.Router;o.route(\"login\",function(e){t.strictEqual(e,\"a=value&backUrl=https%3A%2F%2Fwww.msn.com%2Fidp%2Fidpdemo%3Fspid%3Dspdemo%26target%3Db\")}),Backbone.history.start()}),QUnit.test(\"#3358 - pushState to hashChange transition with search params\",function(t){t.expect(1),Backbone.history.stop(),e.replace(\"http://example.com/root?foo=bar\"),e.replace=function(e){t.strictEqual(e,\"/root#?foo=bar\")},Backbone.history=_.extend(new Backbone.History,{location:e,history:{pushState:void 0,replaceState:void 0}}),Backbone.history.start({root:\"/root\",pushState:!0})}),QUnit.test(\"Paths that don't match the root should not match no root\",function(t){t.expect(0),e.replace(\"http://example.com/foo\"),Backbone.history.stop(),Backbone.history=_.extend(new Backbone.History,{location:e});var o=Backbone.Router.extend({routes:{foo:function(){t.ok(!1,\"should not match unless root matches\")}}});new o,Backbone.history.start({root:\"root\",pushState:!0})}),QUnit.test(\"Paths that don't match the root should not match roots of the same length\",function(t){t.expect(0),e.replace(\"http://example.com/xxxx/foo\"),Backbone.history.stop(),Backbone.history=_.extend(new Backbone.History,{location:e});var o=Backbone.Router.extend({routes:{foo:function(){t.ok(!1,\"should not match unless root matches\")}}});new o,Backbone.history.start({root:\"root\",pushState:!0})}),QUnit.test(\"roots with regex characters\",function(t){t.expect(1),e.replace(\"http://example.com/x+y.z/foo\"),Backbone.history.stop(),Backbone.history=_.extend(new Backbone.History,{location:e});var o=Backbone.Router.extend({routes:{foo:function(){t.ok(!0)}}});new o,Backbone.history.start({root:\"x+y.z\",pushState:!0})}),QUnit.test(\"roots with unicode characters\",function(t){t.expect(1),e.replace(\"http://example.com/®ooτ/foo\"),Backbone.history.stop(),Backbone.history=_.extend(new Backbone.History,{location:e});var o=Backbone.Router.extend({routes:{foo:function(){t.ok(!0)}}});new o,Backbone.history.start({root:\"®ooτ\",pushState:!0})}),QUnit.test(\"roots without slash\",function(t){t.expect(1),e.replace(\"http://example.com/®ooτ\"),Backbone.history.stop(),Backbone.history=_.extend(new Backbone.History,{location:e});var o=Backbone.Router.extend({routes:{\"\":function(){t.ok(!0)}}});new o,Backbone.history.start({root:\"®ooτ\",pushState:!0})})}();\n//# sourceMappingURL=router.js.map\n"]}